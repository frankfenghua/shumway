/*
 * Copyright 2013 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

// This file is automatically generated

(function(a){function b(a,b,d,p,s){void 0===p&&e("Missing required offset argument");(0>p||p+d>a.byteLength)&&e("Invalid index: "+p);if(1===d||!!s===j){if(0===(a.byteOffset+p)%d)return(new b(a.buffer,a.byteOffset+p,1))[0];for(s=0;s<d;s++)g[s]=a._bytes[p+s];return(new b(g.buffer))[0]}for(s=0;s<d;s++)g[d-s-1]=a._bytes[p+s];return(new b(g.buffer))[0]}function d(a,b,d,p,s,l){void 0===p&&e("Missing required offset argument");void 0===s&&e("Missing required value argument");(0>p||p+d>a.byteLength)&&e("Invalid index: "+
p);if(1===d||!!l===j)if(0===(a.byteOffset+p)%d)(new b(a.buffer,a.byteOffset+p,1))[0]=s;else{(new b(g.buffer))[0]=s;for(b=0;b<d;b++)a._bytes[b+p]=g[b]}else{(new b(g.buffer))[0]=s;for(b=0;b<d;b++)a._bytes[p+b]=g[d-1-b]}}function e(a){throw Error(a);}if(!a.DataView){a.ArrayBuffer||e("ArrayBuffer not supported");Object.defineProperties||e("This module requires ECMAScript 5");var j=1===(new Int8Array((new Int32Array([1])).buffer))[0],g=new Uint8Array(8);a.DataView=function(a,b,d){a instanceof ArrayBuffer||
e("Bad ArrayBuffer");b=b||0;d=d||a.byteLength-b;(0>b||0>d||b+d>a.byteLength)&&e("Illegal offset and/or length");Object.defineProperties(this,{buffer:{value:a,enumerable:!1,writable:!1,configurable:!1},byteOffset:{value:b,enumerable:!1,writable:!1,configurable:!1},byteLength:{value:d,enumerable:!1,writable:!1,configurable:!1},_bytes:{value:new Uint8Array(a,b,d),enumerable:!1,writable:!1,configurable:!1}})};a.DataView.prototype={constructor:DataView,getInt8:function(a){return b(this,Int8Array,1,a)},
getUint8:function(a){return b(this,Uint8Array,1,a)},getInt16:function(a,f){return b(this,Int16Array,2,a,f)},getUint16:function(a,f){return b(this,Uint16Array,2,a,f)},getInt32:function(a,f){return b(this,Int32Array,4,a,f)},getUint32:function(a,f){return b(this,Uint32Array,4,a,f)},getFloat32:function(a,f){return b(this,Float32Array,4,a,f)},getFloat64:function(a,f){return b(this,Float64Array,8,a,f)},setInt8:function(a,b){d(this,Int8Array,1,a,b)},setUint8:function(a,b){d(this,Uint8Array,1,a,b)},setInt16:function(a,
b,e){d(this,Int16Array,2,a,b,e)},setUint16:function(a,b,e){d(this,Uint16Array,2,a,b,e)},setInt32:function(a,b,e){d(this,Int32Array,4,a,b,e)},setUint32:function(a,b,e){d(this,Uint32Array,4,a,b,e)},setFloat32:function(a,b,e){d(this,Float32Array,4,a,b,e)},setFloat64:function(a,b,e){d(this,Float64Array,8,a,b,e)}}}})(this);
var create=Object.create,defineProperty=Object.defineProperty,keys=Object.keys,isArray=Array.isArray,fromCharCode=String.fromCharCode,logE=Math.log,max=Math.max,min=Math.min,pow=Math.pow,push=Array.prototype.push,slice=Array.prototype.slice,splice=Array.prototype.splice;function fail(a,b){throw Error((b?b+": ":"")+a);}function assert(a,b,d){a||fail(b,d)}function throwError(a,b){var d=formatErrorMessage.apply(null,slice.call(arguments,1));throwErrorFromVM(AVM2.currentDomain(),a,d,b.code)}
function scriptProperties(a,b){return b.reduce(function(b,e){b[e]=a+" "+e;return b},{})}function cloneObject(a){var b=Object.create(null),d;for(d in a)b[d]=a[d];return b}function sortByDepth(a,b){var d=a._level,e=b._level;if(a._parent!==b._parent&&-1<a._index&&-1<b._index){for(;a._level>e;)a=a._parent;for(;b._level>d;)b=b._parent;for(;1<a._level&&a._parent!==b._parent;)a=a._parent,b=b._parent}return a===b?d-e:a._index-b._index}function sortNumeric(a,b){return a-b}
function rgbaObjToStr(a){return"rgba("+a.red+","+a.green+","+a.blue+","+a.alpha/255+")"}function rgbIntAlphaToStr(a,b){a|=0;if(1<=b){for(var d=a.toString(16);6>d.length;)d="0"+d;return"#"+d}return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+b+")"}function argbUintToStr(a){return"rgba("+(a>>>16&255)+","+(a>>>8&255)+","+(a&255)+","+(a>>>24&255)/255+")"}
(function(){eval("function t() {} t.name === 't'")||Object.defineProperty(Function.prototype,"name",{get:function(){if(this.__name)return this.__name;var a=/function\s([^\(]+)/.exec(this.toString());return this.__name=a=a&&"anonymous"!==a[1]?a[1]:null},configurable:!0,enumerable:!1})})();var randomStyleCache;
function randomStyle(){if(!randomStyleCache){randomStyleCache=[];for(var a=0;50>a;a++)randomStyleCache.push("#"+("00000"+(16777216*Math.random()|0).toString(16)).slice(-6))}return randomStyleCache[Math.random()*randomStyleCache.length|0]}
var Promise=function(){function a(a){return a}function b(a){throw a;}function d(a,b){a.subpromisesValue=b;var d=a.subpromises;if(d){for(var k=0;k<d.length;k++)d[k].fulfill(b);delete a.subpromises}}function e(a,b){a.subpromisesReason=b;var d=a.subpromises;if(d){for(var k=0;k<d.length;k++)d[k].reject(b);delete a.subpromises}}function j(a,b,k){try{var f=a(b);"object"===typeof f&&null!==f&&"function"===typeof f.then?f.then(function(a){d(k,a)},function(a){e(k,a)}):d(k,f)}catch(g){e(k,g)}}function g(){for(;0<
n.length;){var a=n[0];a.directCallback?a.callback.call(a.subject,a.arg):j(a.callback,a.arg,a.subject);n.shift()}}function k(a,b,d,k){0===n.length&&setTimeout(g,0);n.push({callback:a,arg:b,subject:d,directCallback:k})}function f(d,k){this.state="pending";this.onFulfilled="function"===typeof d?d:a;this.onRejected="function"===typeof k?k:b}var n=[];f.prototype={fulfill:function(a){"pending"===this.state&&(this.state="fulfilled",this.value=a,k(this.onFulfilled,a,this,!1))},reject:function(a){"pending"===
this.state&&(this.state="rejected",this.reason=a,k(this.onRejected,a,this,!1))},then:function(a,b){var d=new f(a,b);"subpromisesValue"in this?k(d.fulfill,this.subpromisesValue,d,!0):"subpromisesReason"in this?k(d.reject,this.subpromisesReason,d,!0):(this.subpromises||(this.subpromises=[])).push(d);return d},get resolved(){return"fulfilled"===this.state},resolve:function(a){this.fulfill(a)}};f.when=function(){function a(f){e.push(f);g<k.length?k[g++].then(a,b):d.resolve(e);return f}function b(a){d.reject(a)}
var d=new f;if(0===arguments.length)return d.resolve(),d;var k=slice.call(arguments,0),e=[],g=1;k[0].then(a,b);return d};return f}(),QuadTree=function(a,b,d,e,j){this.x=a|0;this.y=b|0;this.width=d|0;this.height=e|0;this.level=j|0;this.stuckObjects=[];this.objects=[];this.nodes=[]};QuadTree.prototype._findIndex=function(a,b,d,e){var j=this.x+(this.width/2|0),g=this.y+(this.height/2|0);e=b<g&&e<g;b=b>g;if(a<j&&d<j){if(e)return 1;if(b)return 2}else if(a>j){if(e)return 0;if(b)return 3}return-1};
QuadTree.prototype.insert=function(a){var b=this.nodes;if(b.length){var d=this._findIndex(a.xMin,a.yMin,a.xMax,a.yMax);-1<d?b[d].insert(a):(this.stuckObjects.push(a),a._qtree=this)}else if(b=this.objects,b.push(a),4<b.length&&10>this.level)for(this._subdivide();b.length;)this.insert(b.shift());else a._qtree=this};
QuadTree.prototype.delete=function(a){if(a._qtree===this){var b=this.objects.indexOf(a);-1<b?this.objects.splice(b,1):(b=this.stuckObjects.indexOf(a),this.stuckObjects.splice(b,1));a._qtree=null}};QuadTree.prototype._stack=[];QuadTree.prototype._out=[];
QuadTree.prototype.retrieve=function(a,b,d,e){var j=this._stack,g=this._out;g.length=0;var k=this;do{if(k.nodes.length){var f=k._findIndex(a,b,d,e);-1<f?j.push(k.nodes[f]):j.push.apply(j,k.nodes)}g.push.apply(g,k.stuckObjects);g.push.apply(g,k.objects);k=j.pop()}while(k);return g};
QuadTree.prototype._subdivide=function(){var a=this.width/2|0,b=this.height/2|0,d=this.x+a,e=this.y+b,j=this.level+1;this.nodes[0]=new QuadTree(d,this.y,a,b,j);this.nodes[1]=new QuadTree(this.x,this.y,a,b,j);this.nodes[2]=new QuadTree(this.x,e,a,b,j);this.nodes[3]=new QuadTree(d,e,a,b,j)};var EXTERNAL_INTERFACE_FEATURE=1,CLIPBOARD_FEATURE=2,SHAREDOBJECT_FEATURE=3,VIDEO_FEATURE=4,SOUND_FEATURE=5,NETCONNECTION_FEATURE=6;this.performance||(this.performance={});
this.performance.now||(this.performance.now=Date.now);
var SWF_TAG_CODE_CSM_TEXT_SETTINGS=74,SWF_TAG_CODE_DEFINE_BINARY_DATA=87,SWF_TAG_CODE_DEFINE_BITS=6,SWF_TAG_CODE_DEFINE_BITS_JPEG2=21,SWF_TAG_CODE_DEFINE_BITS_JPEG3=35,SWF_TAG_CODE_DEFINE_BITS_JPEG4=90,SWF_TAG_CODE_DEFINE_BITS_LOSSLESS=20,SWF_TAG_CODE_DEFINE_BITS_LOSSLESS2=36,SWF_TAG_CODE_DEFINE_BUTTON=7,SWF_TAG_CODE_DEFINE_BUTTON2=34,SWF_TAG_CODE_DEFINE_BUTTON_CXFORM=23,SWF_TAG_CODE_DEFINE_BUTTON_SOUND=17,SWF_TAG_CODE_DEFINE_EDIT_TEXT=37,SWF_TAG_CODE_DEFINE_FONT=10,SWF_TAG_CODE_DEFINE_FONT2=48,SWF_TAG_CODE_DEFINE_FONT3=
75,SWF_TAG_CODE_DEFINE_FONT4=91,SWF_TAG_CODE_DEFINE_FONT_ALIGN_ZONES=73,SWF_TAG_CODE_DEFINE_FONT_INFO=13,SWF_TAG_CODE_DEFINE_FONT_INFO2=62,SWF_TAG_CODE_DEFINE_FONT_NAME=88,SWF_TAG_CODE_DEFINE_MORPH_SHAPE=46,SWF_TAG_CODE_DEFINE_MORPH_SHAPE2=84,SWF_TAG_CODE_DEFINE_SCALING_GRID=78,SWF_TAG_CODE_DEFINE_SCENE_AND_FRAME_LABEL_DATA=86,SWF_TAG_CODE_DEFINE_SHAPE=2,SWF_TAG_CODE_DEFINE_SHAPE2=22,SWF_TAG_CODE_DEFINE_SHAPE3=32,SWF_TAG_CODE_DEFINE_SHAPE4=83,SWF_TAG_CODE_DEFINE_SOUND=14,SWF_TAG_CODE_DEFINE_SPRITE=
39,SWF_TAG_CODE_DEFINE_TEXT=11,SWF_TAG_CODE_DEFINE_TEXT2=33,SWF_TAG_CODE_DEFINE_VIDEO_STREAM=60,SWF_TAG_CODE_DO_ABC=82,SWF_TAG_CODE_DO_ABC_=72,SWF_TAG_CODE_DO_ACTION=12,SWF_TAG_CODE_DO_INIT_ACTION=59,SWF_TAG_CODE_ENABLE_DEBUGGER=58,SWF_TAG_CODE_ENABLE_DEBUGGER2=64,SWF_TAG_CODE_END=0,SWF_TAG_CODE_EXPORT_ASSETS=56,SWF_TAG_CODE_FILE_ATTRIBUTES=69,SWF_TAG_CODE_FRAME_LABEL=43,SWF_TAG_CODE_IMPORT_ASSETS=57,SWF_TAG_CODE_IMPORT_ASSETS2=71,SWF_TAG_CODE_JPEG_TABLES=8,SWF_TAG_CODE_METADATA=77,SWF_TAG_CODE_PLACE_OBJECT=
4,SWF_TAG_CODE_PLACE_OBJECT2=26,SWF_TAG_CODE_PLACE_OBJECT3=70,SWF_TAG_CODE_PROTECT=24,SWF_TAG_CODE_REMOVE_OBJECT=5,SWF_TAG_CODE_REMOVE_OBJECT2=28,SWF_TAG_CODE_SCRIPT_LIMITS=65,SWF_TAG_CODE_SET_BACKGROUND_COLOR=9,SWF_TAG_CODE_SET_TAB_INDEX=66,SWF_TAG_CODE_SHOW_FRAME=1,SWF_TAG_CODE_SOUND_STREAM_BLOCK=19,SWF_TAG_CODE_SOUND_STREAM_HEAD=18,SWF_TAG_CODE_SOUND_STREAM_HEAD2=45,SWF_TAG_CODE_START_SOUND=15,SWF_TAG_CODE_START_SOUND2=89,SWF_TAG_CODE_SYMBOL_CLASS=76,SWF_TAG_CODE_VIDEO_FRAME=61;self.SWF={};
for(var FORMAT_COLORMAPPED=3,FORMAT_15BPP=4,FORMAT_24BPP=5,FACTOR_5BBP=255/31,crcTable=[],i=0;256>i;i++){for(var c=i,h=0;8>h;h++)c=c&1?3988292384^c>>1&2147483647:c>>1&2147483647;crcTable[i]=c}function crc32(a,b,d){for(var e=-1;b<d;b++)e=e>>>8^crcTable[(e^a[b])&255];return e^-1}
function createPngChunk(a,b){var d=new Uint8Array(12+b.length),e=0,j=b.length;d[e]=j>>24&255;d[e+1]=j>>16&255;d[e+2]=j>>8&255;d[e+3]=j&255;d[e+4]=a.charCodeAt(0)&255;d[e+5]=a.charCodeAt(1)&255;d[e+6]=a.charCodeAt(2)&255;d[e+7]=a.charCodeAt(3)&255;b instanceof Uint8Array&&d.set(b,8);e=8+j;j=crc32(d,4,e);d[e]=j>>24&255;d[e+1]=j>>16&255;d[e+2]=j>>8&255;d[e+3]=j&255;return d}function adler32(a,b,d){for(var e=1,j=0;b<d;++b)e=(e+(a[b]&255))%65521,j=(j+e)%65521;return j<<16|e}
function defineBitmap(a){var b=a.width,d=a.height,e=a.hasAlpha,j="",g="",k,f=a.bmpData;switch(a.format){case 3:var n=3,p=b+3&-4;k=(a.colorTableSize+1)*(a.hasAlpha?4:3);var s=k+p*d,l=createInflatedStream(f,s),m=l.bytes,f=0;l.ensure(k);if(e){for(var j=new Uint8Array(3*(k/4)),q=0,g=new Uint8Array(k/4),e=0;f<k;)j[q++]=m[f],j[q++]=m[f+1],j[q++]=m[f+2],g[e++]=m[f+3],f+=4;j=createPngChunk("PLTE",j);g=createPngChunk("tRNS",g)}else j=createPngChunk("PLTE",m.subarray(f,f+k)),f+=k;k=new Uint8Array(b*d+d);for(q=
0;f<s;){l.ensure(p);var e=f,v=e+b;q++;k.set(m.subarray(e,v),q);q+=v-e;l.pos=f+=p}break;case 4:n=2;p=2*b+3&-4;l=createInflatedStream(f,p*d);f=0;k=new Uint8Array(3*b*d+d);for(s=q=0;s<d;++s){q++;l.ensure(p);for(v=0;v<b;++v)m=l.getUint16(f),f+=2,k[q++]=0|FACTOR_5BBP*(m>>10&31),k[q++]=0|FACTOR_5BBP*(m>>5&31),k[q++]=0|FACTOR_5BBP*(m&31);l.pos=f+=p}break;case 5:var t;e?(n=6,t=0,k=new Uint8Array(4*b*d+d)):(n=2,t=1,k=new Uint8Array(3*b*d+d));p=4*b;l=createInflatedStream(f,p*d);m=l.bytes;for(s=q=f=0;s<d;++s){l.ensure(p);
q++;for(v=0;v<b;++v){f+=t;if(e){var r=m[f];if(r){var u=r/255;k[q++]=0|m[f+1]/u;k[q++]=0|m[f+2]/u;k[q++]=0|m[f+3]/u;k[q++]=r}else q+=4}else k[q++]=m[f],k[q++]=m[f+1],k[q++]=m[f+2];f+=4-t}l.pos=f}break;default:fail("invalid format","bitmap")}n=new Uint8Array([b>>24&255,b>>16&255,b>>8&255,b&255,d>>24&255,d>>16&255,d>>8&255,d&255,8,n,0,0,0]);m=k.length;p=new Uint8Array(2+m+5*Math.ceil(m/65535)+4);l=0;p[l++]=120;p[l++]=156;for(f=0;65535<m;)p[l++]=0,p[l++]=255,p[l++]=255,p[l++]=0,p[l++]=0,p.set(k.subarray(f,
f+65535),l),l+=65535,f+=65535,m-=65535;p[l++]=1;p[l++]=m&255;p[l++]=m>>8&255;p[l++]=~m&255;p[l++]=(~m&65535)>>8&255;p.set(k.subarray(f),l);l+=k.length-f;f=adler32(k,0,k.length);p[l++]=f>>24&255;p[l++]=f>>16&255;p[l++]=f>>8&255;p[l++]=f&255;f=[new Uint8Array([137,80,78,71,13,10,26,10]),createPngChunk("IHDR",n),j,g,createPngChunk("IDAT",p),createPngChunk("IEND","")];return{type:"image",id:a.id,width:b,height:d,mimeType:"image/png",data:new Blob(f,{type:"image/png"})}}
function defineButton(a,b){for(var d=a.characters,e={up:{},over:{},down:{},hitTest:{}},j=0,g;(g=d[j++])&&!g.eob;){var k={symbolId:b[g.symbolId].id,hasMatrix:!!g.matrix,matrix:g.matrix};g.stateUp&&(e.up[g.depth]=k);g.stateOver&&(e.over[g.depth]=k);g.stateDown&&(e.down[g.depth]=k);g.stateHitTest&&(e.hitTest[g.depth]=k)}return{type:"button",id:a.id,buttonActions:a.buttonActions,states:e}}var nextFontId=1;function maxPower2(a){for(var b=0;2<=a;)a/=2,++b;return pow(2,b)}
function toString16(a){return fromCharCode(a>>8&255,a&255)}function toString32(a){return toString16(a>>16)+toString16(a)}
function defineFont(a){var b={},d=[],e={},j=[],g=a.glyphs,k=g.length;if(a.codes){for(var d=d.concat(a.codes),f=0,n;n=d[f];++f)e[n]=f;d.sort(function(a,b){return a-b});for(f=0;n=d[f++];){for(var p=n,s=p,l=[f-1];(n=d[f])&&s+1===n;)++s,l.push(f),++f;j.push([p,s,l])}}else{l=[];for(f=0;f<k;f++)n=57344+f,d.push(n),e[n]=f,l.push(f);j.push([57344,57344+k-1,l])}var m=a.resolution||1,l=Math.ceil(a.ascent/m)||1024,q=-Math.ceil(a.descent/m)|0,v=a.leading/m|0;b["OS/2"]="\x00\u0001\x00\x00"+toString16(a.bold?700:
400)+"\x00\u0005\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00ALF "+toString16((a.italic?1:0)|(a.bold?32:0))+toString16(d[0])+toString16(d[d.length-1])+toString16(l)+toString16(q)+toString16(v)+toString16(l)+toString16(-q)+"\x00\x00\x00\x00\x00\x00\x00\x00";for(var t="",r="",u="",w="",f=0,y;y=j[f++];)p=y[0],s=y[1],n=y[2][0],t+=toString16(p),r+=toString16(s),
u+=toString16(n-p+1&65535),w+=toString16(0);r+="\u00ff\u00ff";t+="\u00ff\u00ff";u+="\x00\u0001";w+="\x00\x00";j=j.length+1;f=2*maxPower2(j);p=2*j-f;f="\x00\x00"+toString16(2*j)+toString16(f)+toString16(logE(j)/logE(2))+toString16(p)+r+"\x00\x00"+t+u+w;b.cmap="\x00\x00\x00\u0001\x00\u0003\x00\u0001\x00\x00\x00\f\x00\u0004"+toString16(f.length+4)+f;j="\x00\u0001\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x001\x00";r="\x00\x00";t=16;u=0;p=[];s=[];y=[];for(var A=[],f=w=0;n=d[f++];){var C=g[e[n]].records;
n=1;for(var x=0,F="",z="",J="",H="",D=0,E=0,L=1024,I=-1024,G=1024,M=-1024,N=0,B;B=C[N];++N)if(B.type){if(B.isStraight)if(B.isGeneral){var z=z+"\u0001",K=B.deltaX/m;B=-B.deltaY/m;J+=toString16(K);H+=toString16(B);D+=K;E+=B}else B.isVertical?(z+="\u0011",B=-B.deltaY/m,H+=toString16(B),E+=B):(z+="!",K=B.deltaX/m,J+=toString16(K),D+=K);else{var z=z+"\x00",O=B.controlDeltaX/m,P=-B.controlDeltaY/m,J=J+toString16(O),H=H+toString16(P),z=z+"\u0001",K=B.anchorDeltaX/m;B=-B.anchorDeltaY/m;J+=toString16(K);H+=
toString16(B);++x;D+=O+K;E+=P+B}D<L&&(L=D);D>I&&(I=D);E<G&&(G=E);E>M&&(M=E);++x}else{if(B.eos)break;B.move&&(x&&(++n,F+=toString16(x-1)),z+="\u0001",O=B.moveX/m,P=-B.moveY/m,K=O-D,B=P-E,J+=toString16(K),H+=toString16(B),D=O,E=P,x>u&&(u=x),D<L&&(L=D),D>I&&(I=D),E<G&&(G=E),E>M&&(M=E),++x)}F+=toString16((x||1)-1);N||(L=I=G=M=0,z+="1");C=toString16(n)+toString16(L)+toString16(G)+toString16(I)+toString16(M)+F+"\x00\x00"+z+J+H;C.length&1&&(C+="\x00");j+=C;r+=toString16(t/2);t+=C.length;p.push(L);s.push(I);
y.push(G);A.push(M);n>w&&(w=n);x>u&&(u=x)}r+=toString16(t/2);b.glyf=j;b.head="\x00\u0001\x00\x00\x00\u0001\x00\x00\x00\x00\x00\x00_\u000f<\u00f5\x00\v\u0004\x00\x00\x00\x00\x00"+toString32(Date.now())+"\x00\x00\x00\x00"+toString32(Date.now())+toString16(min.apply(null,p))+toString16(min.apply(null,y))+toString16(max.apply(null,s))+toString16(max.apply(null,A))+toString16((a.italic?2:0)|(a.bold?1:0))+"\x00\b\x00\u0002\x00\x00\x00\x00";g=a.advance;b.hhea="\x00\u0001\x00\x00"+toString16(l)+toString16(q)+
toString16(v)+toString16(g?max.apply(null,g):1024)+"\x00\x00\x00\x00\u0003\u00b8\x00\u0001\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"+toString16(k+1);t="\x00\x00\x00\x00";for(f=0;f<k;++f)t+=toString16(g?g[f]/m:1024)+"\x00\x00";b.hmtx=t;if(a.kerning){m=a.kerning;g=m.length;f=2*maxPower2(g);g="\x00\x00\x00\u0001\x00\x00"+toString16(14+6*g)+"\x00\u0001"+toString16(g)+toString16(f)+toString16(logE(g)/logE(2))+toString16(2*g-f);for(f=0;B=m[f++];)g+=toString16(e[B.code1])+toString16(e[B.code2])+
toString16(B.adjustment);b.kern=g}b.loca=r;b.maxp="\x00\u0001\x00\x00"+toString16(k+1)+toString16(u)+toString16(w)+"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";e="swf-font-"+nextFontId++;k=a.name||e;m=k.replace(/ /g,"");r=[a.copyright||"Original licence",k,"Unknown",e,k,"1.0",m,"Unknown","Unknown","Unknown"];f=r.length;g="\x00\x00"+toString16(f)+toString16(12*f+6);for(f=t=0;u=r[f++];)g+="\x00\u0001\x00\x00\x00\x00"+toString16(f-1)+toString16(u.length)+
toString16(t),t+=u.length;b.name=g+r.join("");b.post="\x00\u0003\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";r=keys(b);f=r.length;u="\x00\u0001\x00\x00"+toString16(f)+"\x00\u0080\x00\u0003\x00 ";w="";t=16*f+u.length;for(f=0;g=r[f++];){j=b[g];p=j.length;for(u+=g+"\x00\x00\x00\x00"+toString32(t)+toString32(p);p&3;)j+="\x00",++p;for(w+=j;t&3;)++t;t+=p}return{type:"font",id:a.id,name:k,uniqueName:m+e,codes:d,metrics:{ascent:l/
1024,descent:-q/1024,leading:v/1024},bold:1===a.bold,italic:1===a.italic,data:u+w}}function getUint16(a,b){return a[b]<<8|a[b+1]}function parseJpegChunks(a,b){var d=0,e=b.length,j=[],g;do{for(var k=d;d<e&&255!==b[d];)++d;for(;d<e&&255===b[d];)++d;g=b[d++];if(218===g)d=e;else if(217===g){d+=2;continue}else if(208>g||216<g){var f=getUint16(b,d);192<=g&&195>=g&&(a.height=getUint16(b,d+3),a.width=getUint16(b,d+5));d+=f}j.push(b.subarray(k,d))}while(d<e);return j}
function defineImage(a,b){var d={type:"image",id:a.id,mimeType:a.mimeType},e=a.imgData;if("image/jpeg"===a.mimeType){var e=parseJpegChunks(d,e),j=a.alphaData;j&&(d.mask=createInflatedStream(j,d.width*d.height).bytes);if(a.incomplete&&(j=b[0].data)&&j.size)e[0]=e[0].subarray(2),e.unshift(j.slice(0,j.size-2))}else e=[e];d.data=new Blob(e,{type:a.mimeType});return d}
function defineLabel(a,b){for(var d=a.records,e=a.matrix,j=["c.save()","c.transform("+[e.a,e.b,e.c,e.d,e.tx/20,e.ty/20].join()+")","c.scale(0.05, 0.05)"],e=[],g=0,k=0,f=0,n,p;(n=d[f++])&&!n.eot;){if(n.hasFont){var s=b[n.fontId];p=s.codes;j.push('c.font="'+n.fontHeight+"px '"+s.uniqueName+"'\"");e.push(s.id)}n.hasColor?(j.push('ct.setFillStyle(c,"'+rgbaObjToStr(n.color)+'")'),j.push("ct.setAlpha(c)")):j.push("ct.setAlpha(c,true)");n.hasMoveX&&(g=n.moveX);n.hasMoveY&&(k=n.moveY);n=n.entries;for(var s=
0,l;l=n[s++];){var m=p[l.glyphIndex],m=32<=m&&34!=m&&92!=m?fromCharCode(m):"\\u"+(m+65536).toString(16).substring(1);j.push('c.fillText("'+m+'",'+g+","+k+")");g+=l.advance}}j.push("c.restore()");d={type:"label",id:a.id,bbox:a.bbox,data:j.join("\n")};e.length&&(d.require=e);return d}
var GRAPHICS_FILL_CLIPPED_BITMAP=65,GRAPHICS_FILL_FOCAL_RADIAL_GRADIENT=19,GRAPHICS_FILL_LINEAR_GRADIENT=16,GRAPHICS_FILL_NONSMOOTHED_CLIPPED_BITMAP=67,GRAPHICS_FILL_NONSMOOTHED_REPEATING_BITMAP=66,GRAPHICS_FILL_RADIAL_GRADIENT=18,GRAPHICS_FILL_REPEATING_BITMAP=64,GRAPHICS_FILL_SOLID=0;
function applySegmentToStyles(a,b,d,e,j){if(a){var g=a.commands,k=a.data;a=a.morphData;var f,n;if(b.fill0){e=e[b.fill0-1];!b.fill1&&!b.line?(f=e.head(),f.commands=[],f.data=[],f.morphData=j?[]:null):f=e.addSegment([],[],j?[]:null);e=f.commands;var p=f.data,s=f.morphData;e.push(SHAPE_MOVE_TO);var l=k.length-2;p.push(k[l],k[l+1]);j&&s.push(a[l],a[l+1]);for(n=g.length;1<n--;l-=2)f=g[n],e.push(f),p.push(k[l-2],k[l-1]),j&&s.push(a[l-2],a[l-1]),f===SHAPE_CURVE_TO&&(p.push(k[l-4],k[l-3]),j&&s.push(a[l-4],
a[l-3]),l-=2)}b.line&&b.fill1&&(e=d[b.line-1],e.addSegment(g,k,a))}}
function convertRecordsToStyledPaths(a,b,d,e,j,g){for(var k=null!==g,f={fill0:0,fill1:0,line:0},n=null,p=b,s=d,l=a.length-1,m=0,q=0,v=0,t=0,r,u=0,w=0;u<l;u++){var y=a[u],A;k&&(A=g[w++]);if(0===y.type)n&&applySegmentToStyles(n,f,d,b,k),y.hasNewStyles&&(b=createPathsList(y.fillStyles,!1,e,j),push.apply(p,b),d=createPathsList(y.lineStyles,!0,e,j),push.apply(s,d),f={fill0:0,fill1:0,line:0}),y.hasFillStyle0&&(f.fill0=y.fillStyle0),y.hasFillStyle1&&(f.fill1=y.fillStyle1),y.hasLineStyle&&(f.line=y.lineStyle),
f.fill1?r=b[f.fill1-1]:f.line?r=d[f.line-1]:f.fill0&&(r=b[f.fill0-1]),y.move&&(m=y.moveX|0,q=y.moveY|0),r&&(n=r.addSegment([],[],k?[]:null),n.commands.push(SHAPE_MOVE_TO),n.data.push(m,q),k&&(0===A.type?(v=A.moveX|0,t=A.moveY|0):(v=m,t=q,w--),n.morphData.push(v,t)));else{if(k){for(;A&&0===A.type;)A=g[w++];A||(A=y)}if(y.isStraight&&(!k||A.isStraight))m+=y.deltaX|0,q+=y.deltaY|0,n.commands.push(SHAPE_LINE_TO),n.data.push(m,q),k&&(v+=A.deltaX|0,t+=A.deltaY|0,n.morphData.push(v,t));else{var C,x,F;y.isStraight?
(F=y.deltaX|0,y=y.deltaY|0,C=m+(F>>1),x=q+(y>>1),m+=F,q+=y):(C=m+y.controlDeltaX|0,x=q+y.controlDeltaY|0,m=C+y.anchorDeltaX|0,q=x+y.anchorDeltaY|0);n.commands.push(SHAPE_CURVE_TO);n.data.push(C,x,m,q);k&&(A.isStraight?(F=A.deltaX|0,y=A.deltaY|0,C=v+(F>>1),x=t+(y>>1),v+=F,t+=y):(C=v+A.controlDeltaX|0,x=t+A.controlDeltaY|0,v=C+A.anchorDeltaX|0,t=x+A.anchorDeltaY|0),n.morphData.push(C,x,v,t))}}}applySegmentToStyles(n,f,d,b,k);push.apply(p,s);for(u=a=0;u<p.length;u++)r=p[u],r.head()?p[u-a]=segmentedPathToShapePath(r,
k):a++;p.length-=a;return p}
function segmentedPathToShapePath(a,b){for(var d=a.head(),e=d,j=null,g=null,k=0,f=d.prev;d;){for(;f;)a.segmentsConnect(f,d)?(f.next!==d&&(a.removeSegment(f),a.insertSegment(f,d)),d=f,f=d.prev,k++):a.segmentsConnect(e,f)?(a.removeSegment(f),e.next=f,f=f.prev,e.next.prev=e,e.next.next=null,e=e.next,k++):f=f.prev;f=d.prev;j?(g.next=d,d.prev=g,g=e,g.next=null):(j=d,g=e);if(!f)break;d=e=f;f=d.prev}d=-k;k=-k<<1;for(f=j;f;)d+=f.commands.length,k+=f.data.length,f=f.next;for(var k=new ShapePath(a.fillStyle,
a.lineStyle,d,k,b),d=k.commands,e=k.data,g=k.morphData,n=0,p=0,f=j;f;){var j=0,s=f.commands,l=f.data,m=f.morphData;l[0]===e[p-2]&&l[1]===e[p-1]&&(j=1);for(var q=j;q<s.length;q++,n++)d[n]=s[q];for(q=j<<1;q<l.length;q++,p++)e[p]=l[q],b&&(g[p]=m[q]);f=f.next}return k}var CAPS_STYLE_TYPES=["round","none","square"],JOIN_STYLE_TYPES=["round","bevel","miter"];
function processStyle(a,b,d,e){if(b&&(a.lineCap=CAPS_STYLE_TYPES[a.endCapStyle|0],a.lineJoin=JOIN_STYLE_TYPES[a.joinStyle|0],a.miterLimit=2*a.miterLimitFactor,!a.color&&a.hasFill)){var j=processStyle(a.fillStyle,!1,d,e);a.style=j.style;a.type=j.type;a.transform=j.transform;a.records=j.records;a.focalPoint=j.focalPoint;a.bitmapId=j.bitmapId;a.repeat=j.repeat;a.fillStyle=null;return a}if(void 0===a.type||0===a.type)return j=a.color,a.style="rgba("+j.red+","+j.green+","+j.blue+","+j.alpha/255+")",a.color=
null,a;switch(a.type){case 16:case 18:case 19:j=819.2;break;case 64:case 65:case 66:case 67:d[a.bitmapId]&&(e.push(d[a.bitmapId].id),j=0.05);break;default:fail("invalid fill style","shape")}if(!a.matrix)return a;b=a.matrix;a.transform={a:b.a*j,b:b.b*j,c:b.c*j,d:b.d*j,e:b.tx,f:b.ty};a.matrix=null;return a}function createPathsList(a,b,d,e){for(var j=[],g=0;g<a.length;g++){var k=processStyle(a[g],b,d,e);j[g]=b?new SegmentedPath(null,k):new SegmentedPath(k,null)}return j}
function defineShape(a,b){var d=[],e=createPathsList(a.fillStyles,!1,b,d),j=createPathsList(a.lineStyles,!0,b,d),e=convertRecordsToStyledPaths(a.records,e,j,b,d,a.recordsMorph||null);if(a.bboxMorph&&(j=a.bboxMorph,extendBoundsByPoint(a.bbox,j.xMin,j.yMin),extendBoundsByPoint(a.bbox,j.xMax,j.yMax),j=a.strokeBboxMorph))extendBoundsByPoint(a.strokeBbox,j.xMin,j.yMin),extendBoundsByPoint(a.strokeBbox,j.xMax,j.yMax);return{type:"shape",id:a.id,strokeBbox:a.strokeBbox,strokeBboxMorph:a.strokeBboxMorph,
bbox:a.bbox,bboxMorph:a.bboxMorph,isMorph:a.isMorph,paths:e,require:d.length?d:null}}function logShape(a,b){var d='{"bounds":'+JSON.stringify(b)+',"paths":['+a.map(function(a){return a.serialize()}).join()+"]}";console.log(d)}function SegmentedPath(a,b){this.fillStyle=a;this.lineStyle=b;this._head=null}
SegmentedPath.prototype={addSegment:function(a,b,d){a={commands:a,data:b,morphData:d,prev:this._head,next:null};this._head&&(this._head.next=a);return this._head=a},removeSegment:function(a){a.prev&&(a.prev.next=a.next);a.next&&(a.next.prev=a.prev)},insertSegment:function(a,b){var d=b.prev;a.prev=d;a.next=b;d&&(d.next=a);b.prev=a},head:function(){return this._head},segmentsConnect:function(a,b){var d=a.data.length;return a.data[d-2]===b.data[0]&&a.data[d-1]===b.data[1]}};
var SHAPE_MOVE_TO=1,SHAPE_LINE_TO=2,SHAPE_CURVE_TO=3,SHAPE_WIDE_MOVE_TO=4,SHAPE_WIDE_LINE_TO=5,SHAPE_CUBIC_CURVE_TO=6,SHAPE_CIRCLE=7,SHAPE_ELLIPSE=8;function ShapePath(a,b,d,e,j){this.fillStyle=a;this.lineStyle=b;d?(this.commands=new Uint8Array(d),this.data=new Int32Array(e),this.morphData=j?new Int32Array(e):null):(this.commands=[],this.data=[]);this.strokeBounds=this.bounds=null;this.isMorph=!!j;this.fullyInitialized=!1}
ShapePath.prototype={moveTo:function(a,b){1===this.commands[this.commands.length-1]?(this.data[this.data.length-2]=a,this.data[this.data.length-1]=b):(this.commands.push(1),this.data.push(a,b))},lineTo:function(a,b){this.commands.push(2);this.data.push(a,b)},curveTo:function(a,b,d,e){this.commands.push(3);this.data.push(a,b,d,e)},cubicCurveTo:function(a,b,d,e,j,g){this.commands.push(6);this.data.push(a,b,d,e,j,g)},rect:function(a,b,d,e){d=a+d;e=b+e;this.commands.push(1,2,2,2,2);this.data.push(a,b,
d,b,d,e,a,e,a,b)},circle:function(a,b,d){this.commands.push(7);this.data.push(a,b,d)},ellipse:function(a,b,d,e){this.commands.push(8);this.data.push(a,b,d,e)},draw:function(a,b,d,e){if(!b||this.fillStyle){a.beginPath();for(var j=this.commands,g=this.data,k=this.morphData,f=!1,n=0,p=0,s=0,l=0;s<j.length;s++)if(this.isMorph)switch(j[s]){case 1:a.moveTo(morph(g[l]/20,k[l++]/20,d),morph(g[l]/20,k[l++]/20,d));break;case 2:a.lineTo(morph(g[l]/20,k[l++]/20,d),morph(g[l]/20,k[l++]/20,d));break;case 3:a.quadraticCurveTo(morph(g[l]/
20,k[l++]/20,d),morph(g[l]/20,k[l++]/20,d),morph(g[l]/20,k[l++]/20,d),morph(g[l]/20,k[l++]/20,d));break;default:console.warn("Drawing command not supported for morph shapes: "+j[s])}else switch(j[s]){case 1:f=!0;n=g[l++]/20;p=g[l++]/20;a.moveTo(n,p);break;case 4:a.moveTo(g[l++]/20,g[l++]/20);l+=2;break;case 2:a.lineTo(g[l++]/20,g[l++]/20);break;case 5:a.lineTo(g[l++]/20,g[l++]/20);l+=2;break;case 3:a.quadraticCurveTo(g[l++]/20,g[l++]/20,g[l++]/20,g[l++]/20);break;case 6:a.bezierCurveTo(g[l++]/20,
g[l++]/20,g[l++]/20,g[l++]/20,g[l++]/20,g[l++]/20);break;case 7:f&&(a.lineTo(n,p),f=!1);a.moveTo((g[l]+g[l+2])/20,g[l+1]/20);a.arc(g[l++]/20,g[l++]/20,g[l++]/20,0,2*Math.PI,!1);break;case 8:f&&(a.lineTo(n,p),f=!1);var m=g[l++],q=g[l++],v=g[l++],t=g[l++],r;if(v!==t){a.save();var u;v>t?(u=v/t,r=t,m/=u,a.scale(u,1)):(u=t/v,r=v,q/=u,a.scale(1,u))}a.moveTo((m+r)/20,q/20);a.arc(m/20,q/20,r/20,0,2*Math.PI,!1);v!==t&&a.restore();break;default:console.warn("Unknown drawing command encountered: "+j[s])}if(!b){if(b=
this.fillStyle)e.setFillStyle(a,b.style),a.imageSmoothingEnabled=a.mozImageSmoothingEnabled=b.smooth,b=b.transform,a.save(),e.setAlpha(a),b&&a.transform(b.a,b.b,b.c,b.d,b.e/20,b.f/20),a.fill(),a.restore();if(b=this.lineStyle)e.setStrokeStyle(a,b.style),a.save(),e.setAlpha(a),a.lineWidth=Math.max(b.width/20,1),a.lineCap=b.lineCap,a.lineJoin=b.lineJoin,a.miterLimit=b.miterLimit,a.stroke(),a.restore()}a.closePath()}},isPointInPath:function(a,b){if(!this.fillStyle&&!this.lineStyle)return!1;var d=this.strokeBounds||
this.bounds||this._calculateBounds();return a<d.xMin||a>d.xMax||b<d.yMin||b>d.yMax?!1:this.fillStyle&&this.isPointInFill(a,b)?!0:this.lineStyle&&void 0!==this.lineStyle.width&&this.isPointInStroke(a,b)},isPointInFill:function(a,b){for(var d=this.commands,e=this.data,j=d.length,g=!1,k=0,f=0,n=0,p=0,s,l,m=!1,q=0,v=0,t=0,r=0;t<j;t++){switch(d[t]){case 4:r+=2;case 1:n=e[r++];p=e[r++];m&&intersectsLine(a,b,k,f,q,v)&&(g=!g);m=!0;q=n;v=p;break;case 5:r+=2;case 2:n=e[r++];p=e[r++];intersectsLine(a,b,k,f,
n,p)&&(g=!g);break;case 3:s=e[r++];l=e[r++];n=e[r++];p=e[r++];if(l>b===f>b&&p>b===f>b)break;if(k>=a&&s>=a&&n>=a){g=!g;break}var u=f-2*l+p;l=2*(l-f);var w=l*l-4*u*(f-b);if(0>w)break;w=Math.sqrt(w);u=1/(u+u);f=(w-l)*u;l=(-l-w)*u;0<=f&&(1>=f&&quadraticBezier(k,s,n,f)>a)&&(g=!g);0<=l&&(1>=l&&quadraticBezier(k,s,n,l)>a)&&(g=!g);break;case 6:s=e[r++];l=e[r++];u=e[r++];w=e[r++];n=e[r++];p=e[r++];if(l>b===f>b&&w>b===f>b&&p>b===f>b)break;if(k>=a&&s>=a&&u>=a&&n>=a){g=!g;break}s=cubicXAtY(k,f,s,l,u,w,n,p,b);
for(k=s.length;k--;)s[k]>=a&&(g=!g);break;case 7:n=e[r++];p=e[r++];s=e[r++];k=a-n;f=b-p;k*k+f*f<s*s&&(g=!g);n+=s;break;case 8:s=e[r++];l=e[r++];n=e[r++];p=e[r++];k=a-s;f=b-l;1>=k*k/(n*n)+f*f/(p*p)&&(g=!g);n=s+n;p=l;break;default:inWorker||console.warn("Drawing command not handled in isPointInPath: "+d[t])}k=n;f=p}m&&intersectsLine(a,b,k,f,q,v)&&(g=!g);return g},isPointInStroke:function(a,b){for(var d=this.commands,e=this.data,j=d.length,g=this.lineStyle.width,k=g/2,f=k*k,n=a-k,p=a+k,s=b-k,l=b+k,m=
0,q=0,v=0,t=0,r,u,w,y,A,C=0,x=0;C<j;C++){switch(d[C]){case 4:x+=2;case 1:v=e[x++];t=e[x++];break;case 5:x+=2;case 2:v=e[x++];t=e[x++];if(m===v&&q===t)break;if(p<m&&p<v||n>m&&n>v||l<q&&l<t||s>q&&s>t)break;if(v===m||t===q)return!0;A=((a-m)*(v-m)+(b-q)*(t-q))/distanceSq(m,q,v,t);if(0>A){if(distanceSq(a,b,m,q)<=f)return!0;break}if(1<A){if(distanceSq(a,b,v,t)<=f)return!0;break}if(distanceSq(a,b,m+A*(v-m),q+A*(t-q))<=f)return!0;break;case 3:r=e[x++];u=e[x++];var v=e[x++],t=e[x++],F=quadraticBezierExtreme(m,
r,v);if(p<m&&p<F&&p<v||n>m&&n>F&&n>v)break;F=quadraticBezierExtreme(q,u,t);if(l<q&&l<F&&l<t||s>q&&s>F&&s>t)break;for(A=0;1>A;A+=0.02)if(w=quadraticBezier(m,r,v,A),!(w<n||w>p))if(y=quadraticBezier(q,u,t,A),!(y<s||y>l)&&(a-w)*(a-w)+(b-y)*(b-y)<f)return!0;break;case 6:r=e[x++];u=e[x++];var F=e[x++],z=e[x++],v=e[x++],t=e[x++];for(w=cubicBezierExtremes(m,r,F,v);2>w.length;)w.push(v);if(p<m&&p<v&&p<w[0]&&p<w[1]||n>m&&n>v&&n>w[0]&&n>w[1])break;for(w=cubicBezierExtremes(q,u,z,t);2>w.length;)w.push(t);if(l<
q&&l<t&&l<w[0]&&l<w[1]||s>q&&s>t&&s>w[0]&&s>w[1])break;for(A=0;1>A;A+=0.02)if(w=cubicBezier(m,r,F,v,A),!(w<n||w>p))if(y=cubicBezier(q,u,z,t,A),!(y<s||y>l)&&(a-w)*(a-w)+(b-y)*(b-y)<f)return!0;break;case 7:r=e[x++];u=e[x++];m=e[x++];v=r+m;t=u;if(p<r-m||n>r+m||l<u-m||s>u+m)break;r=a-r;u=b-u;q=m-k;m+=k;u=r*r+u*u;if(u>=q*q&&u<=m*m)return!0;break;case 8:r=e[x++];u=e[x++];m=e[x++];q=e[x++];v=r+m;t=u;r=Math.abs(a-r);u=Math.abs(b-u);r-=k;u-=k;if(1<r*r/(m*m)+u*u/(q*q))break;r+=g;u+=g;if(1<r*r/(m*m)+u*u/(q*
q))return!0;break;default:inWorker||console.warn("Drawing command not handled in isPointInPath: "+d[C])}m=v;q=t}return!1},getBounds:function(a){var b=a?this.strokeBounds:this.bounds;b||(this._calculateBounds(),b=a?this.strokeBounds:this.bounds);return b},_calculateBounds:function(){var a=this.commands,b=this.data,d=a.length,e;e=1===a[0]||6<a[0]?{xMin:b[0],yMin:b[1]}:{xMin:0,yMin:0};e.xMax=e.xMin;e.yMax=e.yMin;for(var j=e.xMin,g=e.yMin,k=0,f=0;k<d;k++){var n,p,s,l;switch(a[k]){case 4:f+=2;case 1:n=
b[f++];p=b[f++];extendBoundsByPoint(e,n,p);break;case 5:f+=2;case 2:n=b[f++];p=b[f++];extendBoundsByPoint(e,n,p);break;case 3:s=b[f++];l=b[f++];n=b[f++];p=b[f++];extendBoundsByPoint(e,n,p);(s<j||s>n)&&extendBoundsByX(e,quadraticBezierExtreme(j,s,n));(l<g||l>p)&&extendBoundsByY(e,quadraticBezierExtreme(g,l,p));break;case 6:s=b[f++];l=b[f++];var m=b[f++],q=b[f++];n=b[f++];p=b[f++];extendBoundsByPoint(e,n,p);if(s<j||m<j||s>n||m>n){j=cubicBezierExtremes(j,s,m,n);for(s=j.length;s--;)extendBoundsByX(e,
j[s])}if(l<g||q<g||l>p||q>p){j=cubicBezierExtremes(g,l,q,p);for(s=j.length;s--;)extendBoundsByY(e,j[s])}break;case 7:n=b[f++];p=b[f++];g=b[f++];extendBoundsByPoint(e,n-g,p-g);extendBoundsByPoint(e,n+g,p+g);n+=g;break;case 8:n=b[f++];p=b[f++];g=b[f++];l=b[f++];extendBoundsByPoint(e,n-g,p-l);extendBoundsByPoint(e,n+g,p+l);n+=g;break;default:inWorker||console.warn("Drawing command not handled in bounds calculation: "+a[k])}j=n;g=p}this.bounds=e;return this.lineStyle?(a=this.lineStyle.width/2,this.strokeBounds=
{xMin:e.xMin-a,yMin:e.yMin-a,xMax:e.xMax+a,yMax:e.yMax+a}):this.strokeBounds=e},serialize:function(){var a="{";this.fillStyle&&(a+='"fill":'+JSON.stringify(this.fillStyle)+",");this.lineStyle&&(a+='"stroke":'+JSON.stringify(this.lineStyle)+",");a+='"commands":['+Array.apply([],this.commands).join()+"],";a+='"data":['+Array.apply([],this.data).join()+"]";return a+"}"}};
ShapePath.fromPlainObject=function(a){var b=new ShapePath(a.fill||null,a.stroke||null);b.commands=new Uint8Array(a.commands);b.data=new Int32Array(a.data);inWorker||finishShapePath(b);return b};function distanceSq(a,b,d,e){a=d-a;b=e-b;return a*a+b*b}function intersectsLine(a,b,d,e,j,g){return g>b!==e>b&&a<(d-j)*(b-g)/(e-g)+j}function quadraticBezier(a,b,d,e){var j=1-e;return a*j*j+2*b*j*e+d*e*e}
function quadraticBezierExtreme(a,b,d){var e=(a-b)/(a-2*b+d);return 0>e?a:1<e?d:quadraticBezier(a,b,d,e)}function cubicBezier(a,b,d,e,j){var g=j*j,k=1-j,f=k*k;return a*k*f+3*b*j*f+3*d*k*g+e*j*g}function cubicBezierExtremes(a,b,d,e){var j=b-a,g;g=2*(d-b);var k=e-d;j+k===g&&(k*=1.0001);var f=2*j-g,n=g-2*j,n=Math.sqrt(n*n-4*j*(j-g+k));g=2*(j-g+k);j=(f+n)/g;f=(f-n)/g;n=[];0<=j&&1>=j&&n.push(cubicBezier(a,b,d,e,j));0<=f&&1>=f&&n.push(cubicBezier(a,b,d,e,f));return n}
function cubicXAtY(a,b,d,e,j,g,k,f,n){function p(a){return a*(q+a*(t+a*u))+b-n}function s(b){0>b?b=0:1<b&&(b=1);return a+b*(m+b*(v+b*r))}function l(a,b,d,k){if(!(Math.abs(d-b)<=k)){var f=0.5*(b+d);0>=a(b)*a(d)?(w=b,y=d):(l(a,b,f,k),l(a,f,d,k))}}var m=3*(d-a),q=3*(e-b),v=3*(j-d)-m,t=3*(g-e)-q,r=k-a-m-v,u=f-b-q-t,w=0,y=1;l(p,0,1,0.05);g=findRoot(w,y,p,50,1E-6);if(1E-5<Math.abs(p(g)))return[];d=[];1>=g&&d.push(s(g));e=u;j=g*e+t;k=j*j-4*e*(g*j+q);if(0>k)return d;k=Math.sqrt(k);e=1/(e+e);g=(k-j)*e;e*=
-j-k;0<=g&&1>=g&&d.push(s(g));0<=e&&1>=e&&d.push(s(e));return d}function findRoot(a,b,d,e,j){var g,k,f,n,p,s,l=a;k=d(a);if(0===k)return a;n=d(b);if(0===n)return b;if(0<n*k)return a;for(var m=0,q=0;q<e;++q){m++;g=0.5*(b+a);f=d(g);if(0===f)break;if(Math.abs(g-a)<j)break;0<f*k&&(a=b,b=k,k=n,n=b);b=f-k;s=n-f;p=n-k;if(n*p<2*f*b)b=g,n=f;else{n=(g-a)/b;b=(b-s)/(s*p);b=a-n*k*(1-b*f);n=d(b);if(0===n||Math.abs(b-l)<j)return b;l=b;0>n*k||(a=b,k=n,b=g,n=f)}}return g}
function extendBoundsByPoint(a,b,d){b<a.xMin?a.xMin=b:b>a.xMax&&(a.xMax=b);d<a.yMin?a.yMin=d:d>a.yMax&&(a.yMax=d)}function extendBoundsByX(a,b){b<a.xMin?a.xMin=b:b>a.xMax&&(a.xMax=b)}function extendBoundsByY(a,b){b<a.yMin?a.yMin=b:b>a.yMax&&(a.yMax=b)}function morph(a,b,d){return a+(b-a)*d}
function finishShapePath(a,b){if(a.fullyInitialized)return a;if(!(a instanceof ShapePath)){var d=a;a=new ShapePath(a.fillStyle,a.lineStyle,0,0,a.isMorph);a.commands=d.commands;a.data=d.data;a.morphData=d.morphData}a.fillStyle&&initStyle(a.fillStyle,b);a.lineStyle&&initStyle(a.lineStyle,b);a.fullyInitialized=!0;return a}var inWorker="undefined"===typeof window,factoryCtx=!inWorker?document.createElement("canvas").getContext("2d"):null;
function buildLinearGradientFactory(a){for(var b=factoryCtx.createLinearGradient(-1,0,1,0),d=0;d<a.length;d++)b.addColorStop(a[d].ratio,a[d].color);d=function(b,d){for(var g=b.createLinearGradient(-1,0,1,0),k=0;k<a.length;k++)d.addGradientColorStop(g,a[k].ratio,a[k].color);return g};d.defaultFillStyle=b;return d}
function buildRadialGradientFactory(a,b){for(var d=factoryCtx.createRadialGradient(a,0,0,0,0,1),e=0;e<b.length;e++)d.addColorStop(b[e].ratio,b[e].color);e=function(d,e){for(var k=d.createRadialGradient(a,0,0,0,0,1),f=0;f<b.length;f++)e.addGradientColorStop(k,b[f].ratio,b[f].color);return k};e.defaultFillStyle=d;return e}
function buildBitmapPatternFactory(a,b){var d=factoryCtx.createPattern(a,b),e,j,g=function(k,f){if(!f.mode)return d;var g=f.getTransformFingerprint();if(g===j)return e;var p=document.createElement("canvas");p.width=a.width;p.height=a.height;k=p.getContext("2d");f.setAlpha(k,!0);k.drawImage(a,0,0);e=k.createPattern(p,b);j=g;return e};g.defaultFillStyle=d;return g}
function initStyle(a,b){if(void 0!==a.type)switch(a.type){case 0:break;case 16:case 18:case 19:for(var d=a.records,e=[],j=0,g=d.length;j<g;j++){var k=d[j],f=rgbaObjToStr(k.color);e.push({ratio:k.ratio/255,color:f})}d=16===a.type?buildLinearGradientFactory(e):buildRadialGradientFactory((a.focalPoint|0)/20,e);a.style=d;break;case 64:case 65:case 66:case 67:a.style=buildBitmapPatternFactory(b[a.bitmapId].value.props.img,64===a.type||66===a.type?"repeat":"no-repeat");break;default:fail("invalid fill style",
"shape")}}var SOUND_SIZE_8_BIT=0,SOUND_SIZE_16_BIT=1,SOUND_TYPE_MONO=0,SOUND_TYPE_STEREO=1,SOUND_FORMAT_PCM_BE=0,SOUND_FORMAT_ADPCM=1,SOUND_FORMAT_MP3=2,SOUND_FORMAT_PCM_LE=3,SOUND_FORMAT_NELLYMOSER_16=4,SOUND_FORMAT_NELLYMOSER_8=5,SOUND_FORMAT_NELLYMOSER=6,SOUND_FORMAT_SPEEX=11,SOUND_RATES=[5512,11250,22500,44100],WaveHeader=new Uint8Array([82,73,70,70,0,0,0,0,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,0,0,0,0]);
function packageWave(a,b,d,e,j){var g=e>>3,k=d*b*g,g=d*g,f=a.length+(a.length&1),n=new ArrayBuffer(WaveHeader.length+f),p=new Uint8Array(n);p.set(WaveHeader);if(j){j=0;for(var s=WaveHeader.length;j<a.length;j+=2,s+=2)p[s]=a[j+1],p[s+1]=a[j]}else p.set(a,WaveHeader.length);a=new DataView(n);a.setUint32(4,f+36,!0);a.setUint16(22,d,!0);a.setUint32(24,b,!0);a.setUint32(28,k,!0);a.setUint16(32,g,!0);a.setUint16(34,e,!0);a.setUint32(40,f,!0);return{data:p,mimeType:"audio/wav"}}
function defineSound(a){var b=1==a.soundType?2:1,d=a.samplesCount,e=SOUND_RATES[a.soundRate],j=a.soundData,g;switch(a.soundFormat){case 0:g=new Float32Array(d*b);if(1==a.soundSize){for(var k=d=0;d<g.length;d++,k+=2)g[d]=(j[k]<<24|j[k+1]<<16)/2147483648;j=packageWave(j,e,b,16,!0)}else{for(d=0;d<g.length;d++)g[d]=(j[d]-128)/128;j=packageWave(j,e,b,8,!1)}break;case 3:g=new Float32Array(d*b);if(1==a.soundSize){for(k=d=0;d<g.length;d++,k+=2)g[d]=(j[k+1]<<24|j[k]<<16)/2147483648;j=packageWave(j,e,b,16,
!1)}else{for(d=0;d<g.length;d++)g[d]=(j[d]-128)/128;j=packageWave(j,e,b,8,!1)}break;case 2:j={data:new Uint8Array(j.subarray(2)),mimeType:"audio/mpeg"};break;case 1:k=new Int16Array(d*b);decodeACPCMSoundData(j,k,b);g=new Float32Array(d*b);for(d=0;d<g.length;d++)g[d]=k[d]/32768;j=packageWave(new Uint8Array(k.buffer),e,b,16,!(new Uint8Array((new Uint16Array([1])).buffer))[0]);break;default:throw Error("Unsupported audio format: "+a.soundFormat);}a={type:"sound",id:a.id,sampleRate:e,channels:b,pcm:g};
j&&(a.packaged=j);return a}
var ACPCMIndexTables=[[-1,2],[-1,-1,2,4],[-1,-1,-1,-1,2,4,6,8],[-1,-1,-1,-1,-1,-1,-1,-1,1,2,4,6,8,10,13,16]],ACPCMStepSizeTable=[7,8,9,10,11,12,13,14,16,17,19,21,23,25,28,31,34,37,41,45,50,55,60,66,73,80,88,97,107,118,130,143,157,173,190,209,230,253,279,307,337,371,408,449,494,544,598,658,724,796,876,963,1060,1166,1282,1411,1552,1707,1878,2066,2272,2499,2749,3024,3327,3660,4026,4428,4871,5358,5894,6484,7132,7845,8630,9493,10442,11487,12635,13899,15289,16818,18500,20350,22385,24623,27086,29794,32767];
function decodeACPCMSoundData(a,b,d){function e(b){for(;k<b;)g=g<<8|a[j++],k+=8;k-=b;return g>>>k&(1<<b)-1}for(var j=0,g=0,k=0,f=0,n=e(2),p=ACPCMIndexTables[n];f<b.length;){var s=b[f++]=e(16)<<16>>16,l,m=e(6),q;1<d&&(l=b[f++]=e(16)<<16>>16,q=e(6));for(var v=1<<n+1,t=0;4095>t;t++){for(var r=e(n+2),u=ACPCMStepSizeTable[m],w=0,y=v>>1;y;y>>=1,u>>=1)r&y&&(w+=u);s+=(r&v?-1:1)*(w+u);b[f++]=s=-32768>s?-32768:32767<s?32767:s;m+=p[r&~v];m=0>m?0:88<m?88:m;if(1<d){r=e(n+2);u=ACPCMStepSizeTable[q];w=0;for(y=v>>
1;y;y>>=1,u>>=1)r&y&&(w+=u);l+=(r&v?-1:1)*(w+u);b[f++]=l=-32768>l?-32768:32767<l?32767:l;q+=p[r&~v];q=0>q?0:88<q?88:q}}}}var nextSoundStreamId=0;function SwfSoundStream(a,b,d){this.streamId=nextSoundStreamId++;this.samplesCount=a;this.sampleRate=b;this.channels=d;this.format=null;this.currentSample=0}
SwfSoundStream.prototype={get info(){return{samplesCount:this.samplesCount,sampleRate:this.sampleRate,channels:this.channels,format:this.format,streamId:this.streamId}},decode:function(){throw Error("SwfSoundStream.decode: not implemented");}};function SwfSoundStream_decode_PCM(a){for(var b=new Float32Array(a.length),d=0;d<b.length;d++)b[d]=(a[d]-128)/128;this.currentSample+=b.length/this.channels;return{streamId:this.streamId,samplesCount:b.length/this.channels,pcm:b}}
function SwfSoundStream_decode_PCM_be(a){for(var b=new Float32Array(a.length/2),d=0,e=0;d<b.length;d++,e+=2)b[d]=(a[e]<<24|a[e+1]<<16)/2147483648;this.currentSample+=b.length/this.channels;return{streamId:this.streamId,samplesCount:b.length/this.channels,pcm:b}}
function SwfSoundStream_decode_PCM_le(a){for(var b=new Float32Array(a.length/2),d=0,e=0;d<b.length;d++,e+=2)b[d]=(a[e+1]<<24|a[e]<<16)/2147483648;this.currentSample+=b.length/this.channels;return{streamId:this.streamId,samplesCount:b.length/this.channels,pcm:b}}function SwfSoundStream_decode_MP3(a){var b=a[1]<<8|a[0],d=a[3]<<8|a[2];this.currentSample+=b;return{streamId:this.streamId,samplesCount:b,data:new Uint8Array(a.subarray(4)),seek:d}}
function createSoundStream(a){var b=new SwfSoundStream(a.samplesCount,SOUND_RATES[a.streamRate],1==a.streamType?2:1);switch(a.streamCompression){case 0:b.format="wave";b.decode=1==a.soundSize?SwfSoundStream_decode_PCM_be:SwfSoundStream_decode_PCM;break;case 3:b.format="wave";b.decode=1==a.soundSize?SwfSoundStream_decode_PCM_le:SwfSoundStream_decode_PCM;break;case 2:b.format="mp3";b.decode=SwfSoundStream_decode_MP3;break;default:throw Error("Unsupported audio format: "+a.soundFormat);}return b}
function defineText(a,b){var d=[];if(a.hasFont){var e=b[a.fontId];a.font=e.uniqueName;d.push(e.id)}e={type:"text",id:a.id,variableName:a.variableName,tag:a};d.length&&(e.require=d);return e}
var $RELEASE=!1,LoaderDefinition=function(){function a(a,d){function e(){var a={},b={type:"frame"},d=0,k=null,f=0;return{onstart:function(a){j({command:"init",result:a})},onprogress:function(e){if(Date.now()-f>1E3/24||e.bytesLoaded===e.bytesTotal)j({command:"progress",result:{bytesLoaded:e.bytesLoaded,bytesTotal:e.bytesTotal}}),f=Date.now();e=e.tags;for(var l=e.length;d<l;d++){var n=e[d];if("id"in n){var m=void 0;switch(n.code){case 6:case 21:case 35:case 90:case 8:m=defineImage(n,g);break;case 20:case 36:m=
defineBitmap(n,g);break;case 7:case 34:m=defineButton(n,g);break;case 37:m=defineText(n,g);break;case 10:case 48:case 75:case 91:m=defineFont(n,g);break;case 46:case 84:case 2:case 22:case 32:case 83:m=defineShape(n,g);break;case 14:m=defineSound(n,g);break;case 87:m={type:"binary",id:n.id,data:n.data};break;case 39:for(var m={},x={type:"frame"},F=[],z=n.tags,J=null,H=0,D=null,E=0,L=z.length;E<L;E++){var I=z[E];switch(I.code){case 12:J||(J=[]);J.push(H);J.push(I.actionsData);break;case 15:(x.startSounds||
(x.startSounds=[])).push(I);break;case 18:try{D=createSoundStream(I),x.soundStream=D.info}catch(G){}break;case 19:D&&(x.soundStreamBlock=D.decode(I.data));break;case 43:x.labelName=I.name;break;case 4:case 26:case 70:m[I.depth]=I;break;case 5:case 28:m[I.depth]=null;break;case 1:for(I=1;E<L-1&&1===z[E+1].code;)E++,I++;H+=I;x.repeat=I;x.depths=m;F.push(x);m={};x={type:"frame"}}}m={type:"sprite",id:n.id,frameCount:n.frameCount,frames:F,frameScripts:J};break;case 11:case 33:m=defineLabel(n,g)}m?(m.isSymbol=
!0,g[n.id]=m,j(m)):j({command:"error",message:"unknown symbol type: "+n.code})}else switch(n.code){case 86:b.sceneData=n;break;case 78:j({isSymbol:!0,id:n.symbolId,updates:{scale9Grid:n.splitter}});break;case 82:case 72:(m=b.abcBlocks)?m.push({data:n.data,flags:n.flags}):b.abcBlocks=[{data:n.data,flags:n.flags}];break;case 12:(m=b.actionBlocks)?m.push(n.actionsData):b.actionBlocks=[n.actionsData];break;case 59:(b.initActionBlocks||(b.initActionBlocks=[])).push({spriteId:n.spriteId,actionsData:n.actionsData});
break;case 15:m=b.startSounds;m||(b.startSounds=m=[]);m.push(n);break;case 18:try{k=createSoundStream(n),b.soundStream=k.info}catch(M){}break;case 19:k&&(b.soundStreamBlock=k.decode(n.data));break;case 76:m=b.exports;b.exports=m?m.concat(n.exports):n.exports.slice(0);break;case 43:b.labelName=n.name;break;case 4:case 26:case 70:a[n.depth]=n;break;case 5:case 28:a[n.depth]=null;break;case 9:b.bgcolor=n.color;break;case 1:for(n=1;d<l;){m=e[d+1];if(!m||1!==m.code)break;d++;n++}b.repeat=n;b.depths=a;
j(b);a={};b={type:"frame"}}}},oncomplete:function(a){j(a);var b;"number"===typeof a.swfVersion&&(b=a.bbox,b={topic:"parseInfo",parseTime:a.parseTime,bytesTotal:a.bytesTotal,swfVersion:a.swfVersion,frameRate:a.frameRate,width:(b.xMax-b.xMin)/20,height:(b.yMax-b.yMin)/20,isAvm2:!!a.fileAttributes.doAbc});j({command:"complete",stats:b})}}}var g={},j;j=a?function(b){return a._commitData(b)}:function(a){self.postMessage(a)};if(b||!flash.net.URLRequest.class.isInstanceOf(d))if(d instanceof ArrayBuffer)SWF.parse(d,
e());else if("subscribe"in d){var l=SWF.parseAsync(e());d.subscribe(function(a,b){a?l.push(a,b):l.close()})}else if("undefined"!==typeof FileReaderSync){var m=new FileReaderSync,m=m.readAsArrayBuffer(d);SWF.parse(m,e())}else m=new FileReader,m.onload=function(){SWF.parse(this.result,e())},m.readAsArrayBuffer(d);else m=FileLoadingService.createSession(),l=SWF.parseAsync(e()),m.onprogress=function(b,d){l.push(b,d);b={command:"progress",result:{bytesLoaded:d.bytesLoaded,bytesTotal:d.bytesTotal}};a._commitData(b)},
m.onerror=function(b){a._commitData({command:"error",error:b})},m.onopen=function(){},m.onclose=function(){l.close()},m.open(d._toFileRequest())}var b="undefined"===typeof window;if(b){var d=null;self.onmessage=function(b){d?d.callback(b.data.data,b.data.progress):"pipe:"===b.data?(d={subscribe:function(a){this.callback=a}},a(null,d)):a(null,b.data)}}else{var e=document.head;e.insertBefore(document.createElement("style"),e.firstChild);var j=document.styleSheets[0],g={__class__:"flash.display.Loader",
initialize:function(){this._contentLoaderInfo=new flash.display.LoaderInfo;this._contentLoaderInfo._loader=this;this._dictionary={};this._displayList=null;this._timeline=[];this._worker=this._uncaughtErrorEvents=this._lastPromise=null},_commitData:function(a){switch(a.command){case "init":this._init(a.result);break;case "progress":this._updateProgress(a.result);break;case "complete":var b=new Promise;avm2.systemDomain.onMessage.register("frameConstructed",function p(a){"frameConstructed"===a&&(b.resolve(),
avm2.systemDomain.onMessage.unregister("frameConstructed",p))});Promise.when(b,this._lastPromise).then(function(){this.contentLoaderInfo._dispatchEvent("complete")}.bind(this));(a=a.stats)&&TelemetryService.reportTelemetry(a);this._worker&&this._worker.terminate();break;case "empty":this._lastPromise=new Promise;this._lastPromise.resolve();break;case "error":this.contentLoaderInfo._dispatchEvent("ioError",flash.events.IOErrorEvent);break;default:if(0===a.id)break;a.isSymbol?this._commitSymbol(a):
"frame"===a.type?this._commitFrame(a):"image"===a.type&&this._commitImage(a)}},_updateProgress:function(a){var b=this.contentLoaderInfo;b._bytesLoaded=a.bytesLoaded||0;b._bytesTotal=a.bytesTotal||0;a=new flash.events.ProgressEvent("progress",!1,!1,b._bytesLoaded,b._bytesTotal);b._dispatchEvent(a)},_buildFrame:function(a,b,d,e){var g=this._dictionary,j={},m=[],q=e.depths;if(a)for(var v=a.depths,t=0;t<v.length;t++){var r=v[t];null!==q[r]&&(j[r]=a[r],m.push(r))}for(r in q)if(v=q[r]){if(v.move){var t=
v,v=cloneObject(a[r]),u;for(u in t){var w=t[u];w&&(v[u]=w)}}v.symbolId&&((t=g[v.symbolId])&&!t.resolved&&d.push(t),v=cloneObject(v),v.promise=t);j[r]||m.push(r);j[r]=v}m.sort(sortNumeric);j.depths=m;for(t=e.repeat;t--;)b.push(j);return j},_commitFrame:function(a){var b=a.abcBlocks,d=a.actionBlocks,e=a.initActionBlocks,g=a.exports,j=a.sceneData,m=this,q=m._dictionary,v=m.contentLoaderInfo,t=m._timeline,r=t.length+1,u=new Promise,w=a.labelName,y=this._lastPromise;this._lastPromise=u;y=[y];this._displayList=
this._buildFrame(this._displayList,t,y,a,r);a.bgcolor?v._backgroundColor=a.bgcolor:isNullOrUndefined(v._backgroundColor)&&(v._backgroundColor={red:255,green:255,blue:255,alpha:255});Promise.when.apply(Promise,y).then(function(){if(b&&m._isAvm2Enabled)for(var a=avm2.applicationDomain,d=0,e=b.length;d<e;d++){var k=new AbcFile(b[d].data,"abc_block_"+d);b[d].flags?a.loadAbc(k):a.executeAbc(k)}if(g&&m._isAvm2Enabled){a=[];d=0;for(e=g.length;d<e;d++){var k=g[d],j=q[k.symbolId];j&&(j.then(function(a,b){return function(){var d=
a.value;d.className=b;avm2.applicationDomain.getClass(b).setSymbol(d.props)}}(j,k.className)),a.push(j))}return Promise.when.apply(Promise,a)}}).then(function(){var b=m._content,f;if(b){if(b._framesLoaded+=a.repeat,w&&b._labelMap&&void 0===b._labelMap[w]){b._labelMap[w]=r;for(var x=0,y=b.symbol.scenes.length;x<y;x++)if(G=b.symbol.scenes[x],r>=G._startFrame&&r<=G._endFrame){G.labels.push(new flash.display.FrameLabel(w,r-G._startFrame));break}}}else{var z=m._parent;!0;b=q[0].value;y=avm2.applicationDomain.getClass(b.className);
b=y.createAsSymbol({framesLoaded:t.length,loader:m,parent:z||m,index:z?0:-1,level:z?0:-1,timeline:t,totalFrames:b.props.totalFrames,stage:m._stage});z&&z==m._stage&&0===m._stage._children.length?(z._frameRate=v._frameRate,z._stageHeight=v._height,z._stageWidth=v._width,z._root=b,z._setup()):m._children.push(b);f=b.symbol.labelMap=createEmptyObject();if(j){for(var J=[],H,D=b.symbol.totalFrames-1,E=j.scenes,L=j.labels,x=E.length;x--;){var I=E[x];H=I.offset;for(var G=[],M=L.length;M--;){var N=L[M];N.frame>=
H&&N.frame<=D&&(f[N.name]=N.frame+1,G.unshift(new flash.display.FrameLabel(N.name,N.frame-H+1)))}var G=new flash.display.Scene(I.name,G,D-H+1);G._startFrame=H+1;G._endFrame=D+1;J.unshift(G);D=H-1}b.symbol.scenes=J}else G=[],w&&(f[w]=r,G.push(new flash.display.FrameLabel(w,r))),G=new flash.display.Scene("Scene 1",G,b.symbol.totalFrames),G._endFrame=b.symbol.totalFrames,b.symbol.scenes=[G];if(!m._isAvm2Enabled){var B=m._avm1Context,x=b;if(z&&z!==m._stage){for(z=z._loader;z._parent&&z._parent!==m._stage;)z=
z._parent._loader;x=z._content}z=x._getAS2Object();B.globals.asSetPublicProperty("_root",z);B.globals.asSetPublicProperty("_level0",z);B.globals.asSetPublicProperty("_level1",z);var x=m.loaderInfo._parameters,K;for(K in x)K in z||(z[K]=x[K])}y.instanceConstructor.call(b);m._content=b}a.startSounds&&b._registerStartSounds(r,a.startSounds);a.soundStream&&b._initSoundStream(a.soundStream);a.soundStreamBlock&&b._addSoundStreamBlock(r,a.soundStreamBlock);if(!m._isAvm2Enabled){B=m._avm1Context;if(e)for(x=
0;x<e.length;x++)b.addFrameScript(r-1,function(a,b,d){if(!d.executed)return d.executed=!0,executeActions(a,B,this._getAS2Object(),g)}.bind(b,e[x].actionsData,e[x].spriteId,{executed:!1}));if(d)for(x=0;x<d.length;x++)b.addFrameScript(r-1,function(a){return function(){return executeActions(a,B,this._getAS2Object(),g)}}(d[x]))}1===r&&v._dispatchEvent(new flash.events.Event("init",!1,!1));u.resolve(a)})},_commitImage:function(a){var b=this,d=this._lastPromise=new Promise,e=new Image;a.props.img=e;e.onload=
function(){var e=a.props;e.parent=b._parent;e.stage=b._stage;e.skipCopyToCanvas=!0;var g=avm2.systemDomain.getClass("flash.display.Bitmap"),j=avm2.systemDomain.getClass("flash.display.BitmapData"),e=j.createAsSymbol(e);j.instanceConstructor.call(e,0,0,!0,4294967295);j=g.createAsSymbol(e);b._children.push(j);g.instanceConstructor.call(j,e);j._parent=b;b._content=j;d.resolve(a);b.contentLoaderInfo._dispatchEvent("init")};e.src=URL.createObjectURL(a.data);delete a.data},_commitSymbol:function(a){var b=
this._dictionary;if("updates"in a)b[a.id].then(function(b){for(var d in a.updates)b.props[d]=a.updates[d]});else{var d="flash.display.DisplayObject",e=a.require,g=[],l={symbolId:a.id,loader:this},m=new Promise;if(e&&e.length)for(var q=0,v=e.length;q<v;q++){var t=b[e[q]];t&&!t.resolved&&g.push(t)}switch(a.type){case "button":var v={},r;for(r in a.states){for(var t=[],e={},u=a.states[r],w=Object.keys(u),q=0;q<w.length;q++){var y=w[q],A=u[y],C=b[A.symbolId];C&&!C.resolved&&g.push(C);t.push(C);e[y]=Object.create(A,
{promise:{value:C}})}w.sort(sortNumeric);e.depths=w;q=new Promise;q.resolve({className:"flash.display.Sprite",props:{loader:this,timeline:[e]}});v[r]=q}d="flash.display.SimpleButton";l.states=v;l.buttonActions=a.buttonActions;break;case "font":if(fromCharCode.apply(null,a.codes)&&(j.insertRule('@font-face{font-family:"'+a.uniqueName+'";src:url(data:font/opentype;base64,'+btoa(a.data)+")}",j.cssRules.length),!/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.test(window.navigator.userAgent))){var x=document.createElement("div");
x.setAttribute("style",'position: absolute; top: 0; right: 0;visibility: hidden; z-index: -500;font-family:"'+a.uniqueName+'";');x.textContent="font test";document.body.appendChild(x);var F=new Promise;setTimeout(function(){F.resolve();document.body.removeChild(x)},200);g.push(F)}d="flash.text.Font";l.name=a.name;l.uniqueName=a.uniqueName;l.charset=a.charset;l.bold=a.bold;l.italic=a.italic;l.metrics=a.metrics;this._registerFont(d,l);break;case "image":var z=new Image,J=new Promise;z.onload=function(){if(a.mask){var b=
document.createElement("canvas");b.width=a.width;b.height=a.height;var d=b.getContext("2d");d.drawImage(z,0,0);for(var e=d.getImageData(0,0,a.width,a.height),f=e.data,g=a.mask,j=e.width*e.height,n=0,m=3;n<j;n++,m+=4)f[m]=g[n];d.putImageData(e,0,0);l.img=b}J.resolve()};z.src=URL.createObjectURL(a.data);g.push(J);d="flash.display.Bitmap";l.img=z;l.width=a.width;l.height=a.height;break;case "label":q=new Function("c,r,ct",a.data);d="flash.text.StaticText";l.bbox=a.bbox;l.draw=q;break;case "text":l.bbox=
a.bbox;l.html=a.html;"label"===a.type?d="flash.text.StaticText":(d="flash.text.TextField",l.tag=a.tag,l.variableName=a.variableName);break;case "shape":d=a.morph?"flash.display.MorphShape":"flash.display.Shape";l.bbox=a.bbox;l.strokeBbox=a.strokeBbox;l.paths=a.paths;l.dictionary=b;break;case "sound":if(!a.pcm&&!PLAY_USING_AUDIO_TAG){var H=new Promise;MP3DecoderSession.processAll(a.packaged.data,function(a,b,d,e){a.pcm=b||new Uint8Array(0);H.resolve();e&&console.error("ERROR: "+e)}.bind(null,l));g.push(H)}d=
"flash.media.Sound";l.sampleRate=a.sampleRate;l.channels=a.channels;l.pcm=a.pcm;l.packaged=a.packaged;break;case "binary":l.data=a.data;break;case "sprite":e=null;r=a.frameCount;t={};u=1;A=a.frames;w=[];y=[];q=0;for(v=A.length;q<v;q++){C=A[q];u=w.length+1;C.labelName&&(t[C.labelName]=u);if(C.startSounds){y[u]=C.startSounds;for(var D=0;D<C.startSounds.length;D++){var E=b[C.startSounds[D].soundId];E&&!E.resolved&&g.push(E)}}e=this._buildFrame(e,w,g,C,u)}e={};if(!this._isAvm2Enabled&&a.frameScripts){v=
a.frameScripts;for(q=0;q<v.length;q+=2)u=v[q]+1,A=function(a,b){return function(){return executeActions(a,b._avm1Context,this._getAS2Object())}}(v[q+1],this),e[u]?e[u].push(A):e[u]=[A]}d="flash.display.MovieClip";l.timeline=w;l.framesLoaded=r;l.labelMap=t;l.frameScripts=e;l.totalFrames=r;l.startSoundRegistrations=y}b[a.id]=m;Promise.when.apply(Promise,g).then(function(){m.resolve({className:d,props:l})})}},_registerFont:function(a,b){this._vmPromise.then(function(){var d=avm2.applicationDomain.getClass(a),
e=d.createAsSymbol(b);d.instanceConstructor.call(e)})},_init:function(a){var b=this.contentLoaderInfo;b._swfVersion=a.swfVersion;var d=a.bbox;b._width=d.xMax-d.xMin;b._height=d.yMax-d.yMin;b._frameRate=a.frameRate;var e=new Promise,b=new Promise;b.then(function(){e.resolve({className:"flash.display.MovieClip",props:{totalFrames:a.frameCount}})});this._lastPromise=this._dictionary[0]=e;this._vmPromise=b;this._isAvm2Enabled=a.fileAttributes.doAbc;this._setup()},_load:function(d){!b&&flash.net.URLRequest.class.isInstanceOf(d)&&
(this._contentLoaderInfo._url=d._url);if(b)a(this,d);else{var e=this,g=e._worker=new Worker(SHUMWAY_ROOT+"shumway-worker.js");g.onmessage=function(a){e._commitData(a.data)};if(flash.net.URLRequest.class.isInstanceOf(d)){var j=FileLoadingService.createSession();j.onprogress=function(a,b){g.postMessage({data:a,progress:b})};j.onerror=function(a){e._commitData({command:"error",error:a})};j.onopen=function(){g.postMessage("pipe:")};j.onclose=function(){g.postMessage({data:null})};j.open(d._toFileRequest())}else g.postMessage(d)}},
_setup:function(){var a=this,b=a._stage;if(a._isAvm2Enabled)avm2.systemDomain.getClass("flash.ui.Mouse")._stage=b,a._vmPromise.resolve();else if(avm2.loadAVM1){var d=function(){var d=new AS2Context(a.contentLoaderInfo._swfVersion);d.stage=b;a._avm1Context=d;avm1lib.AS2Key.class.$bind(b);avm1lib.AS2Mouse.class.$bind(b);b._addEventListener("frameConstructed",d.flushPendingScripts.bind(d),!1,Number.MAX_VALUE);a._vmPromise.resolve()};avm2.isAVM1Loaded?d():(avm2.isAVM1Loaded=!0,avm2.loadAVM1(d))}else a._vmPromise.reject("AVM1 loader is not found")},
get contentLoaderInfo(){return this._contentLoaderInfo},get content(){somewhatImplemented("Loader.content");return this._content}};g.__glue__={"native":{instance:{content:Object.getOwnPropertyDescriptor(g,"content"),contentLoaderInfo:Object.getOwnPropertyDescriptor(g,"contentLoaderInfo"),_getJPEGLoaderContextdeblockingfilter:function(){return 0},_load:g._load,_loadBytes:function(a,b,d,e){g._load.call(this,a.a,b,d,e)},_unload:function(){somewhatImplemented("Loader._unload, do we even need to do anything here?")},
_close:function(){somewhatImplemented("Loader._close")},_getUncaughtErrorEvents:function(){somewhatImplemented("Loader._getUncaughtErrorEvents");return this._uncaughtErrorEvents},_setUncaughtErrorEvents:function(a){somewhatImplemented("Loader._setUncaughtErrorEvents");this._uncaughtErrorEvents=a}}}};return g}}.call(this);
for(var q=void 0,w=!0,x=!1,aa=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],y=[],ba=[],i=0,A=0,B=1;30>i;++i)y[i]=B,B+=1<<(ba[i]=~~((A+=2<i?1:0)/2));for(var C=[],i=0;32>i;++i)C[i]=5;for(var ca=D(C),da=[],ea=[],A=i=0,B=3;29>i;++i)da[i]=B-(28==i?1:0),B+=1<<(ea[i]=~~((A+=4<i?1:0)/4%6));for(i=0;288>i;++i)C[i]=144>i||279<i?8:256>i?9:7;var fa=D(C);
function D(c){for(var b=max.apply(null,c),a=c.length,d=1<<b,e=new Uint32Array(d),f=0,g=1,h=2;g<=b;f<<=1,++g,h<<=1)for(var j=0;j<a;++j)if(c[j]===g){for(var k=0,m=0;m<g;++m)k=2*k+(f>>m&1);for(m=k;m<d;m+=h)e[m]=g<<16|j;++f}return{codes:e,v:b}}var E={};
function ga(c,b,a){var d=a.m!==q?a.m:a.m=G(c.bytes,c,3);switch(d>>1){case 0:c.align();var e=c.pos;if(4>c.end-e)throw E;var f=c.getUint16(e,w);c.getUint16(e+2,w);if(c.end-e<4+f)throw E;var g=e+4,h=c.pos=g+f,e=c.bytes;splice.apply(b.data,[b.g,f].concat(slice.call(e,g,h)));b.g+=f;break;case 1:ha(c,b,fa,ca,a);break;case 2:if(a.l!==q)e=a.l,f=a.r;else{var e=c.bytes,g=c.pos,h=c.bitBuffer,j=c.bitLength,f=[],k,m;try{k=G(e,c,5)+257;m=G(e,c,5)+1;for(var l=k+m,n=G(e,c,4)+4,p=0;19>p;++p)f[aa[p]]=p<n?G(e,c,3):
0;for(var u=D(f),f=[],n=p=0;p<l;){var s=1,r=H(e,c,u);switch(r){case 16:s=G(e,c,2)+3;r=n;break;case 17:s=G(e,c,3)+3;r=0;break;case 18:s=G(e,c,7)+11;r=0;break;default:n=r}for(;s--;)f[p++]=r}}catch(t){throw c.pos=g,c.bitBuffer=h,c.bitLength=j,t;}e=a.l=D(f.splice(k,m));f=a.r=D(f)}ha(c,b,f,e,a);delete a.l;delete a.r;break;default:fail("unknown block type","inflate")}delete a.m;b.j=!!(d&1)}
function G(c,b,a){var d=b.bitBuffer,e=b.bitLength;if(a>e){var f=b.pos,g=b.end;do{if(f>=g)throw b.pos=f,b.bitBuffer=d,b.bitLength=e,E;d|=c[f++]<<e;e+=8}while(a>e);b.pos=f}b.bitBuffer=d>>>a;b.bitLength=e-a;return d&(1<<a)-1}
function ha(c,b,a,d,e){for(var f=b.g,g=b.data,h=c.bytes,j=e.o!==q?e.o:H(h,c,a);256!==j;){if(256>j)g[f++]=j;else{e.o=j;for(var j=j-257,j=e.n!==q?e.n:e.n=da[j]+G(h,c,ea[j]),k=e.p!==q?e.p:e.p=H(h,c,d),k=y[k]+G(h,c,ba[k]),k=f-k;j--;)g[f++]=g[k++];delete e.p;delete e.n;delete e.o}b.g=f;j=H(h,c,a)}}
function H(c,b,a){var d=b.bitBuffer,e=b.bitLength,f=a.v;if(f>e){var g=b.pos,h=b.end;do{if(g>=h)throw b.pos=g,b.bitBuffer=d,b.bitLength=e,E;d|=c[g++]<<e;e+=8}while(f>e);b.pos=g}c=a.codes[d&(1<<f)-1];a=c>>16;b.bitBuffer=d>>>a;b.bitLength=e-a;return c&65535}this.createInflatedStream=function(c,b){var a=new I(c,2),d={data:new Uint8Array(b),g:0,j:x},e={};do ga(a,d,e);while(!d.j&&a.pos<a.end);return new I(d.data,0,d.g)};var ia={},I;function ja(){this.bitBuffer=this.bitLength=0}
function ka(c){if(this.pos+c>this.end)throw ia;}function la(){return this.end-this.pos}function na(c,b){var a=new oa(this.bytes);a.pos=c;a.end=b;return a}function pa(c){var b=this.bytes,a=this.end+c.length;if(a>b.length)throw"stream buffer overfow";b.set(c,this.end);this.end=a}
function oa(c,b,a,d){b===q&&(b=0);c.buffer instanceof ArrayBuffer&&(b+=c.byteOffset,c=c.buffer);a===q&&(a=c.byteLength-b);d===q&&(d=a);var e=new Uint8Array(c,b,d);c=new DataView(c,b,d);c.bytes=e;c.pos=0;c.end=a;c.bitBuffer=0;c.bitLength=0;c.align=ja;c.ensure=ka;c.remaining=la;c.substream=na;c.push=pa;return c}this.Stream=I=oa;function readSi8(c,b){return b.getInt8(b.pos++)}function readSi16(c,b){return b.getInt16(b.pos,b.pos+=2)}function readUi8(c,b){return c[b.pos++]}
function readUi16(c,b){return b.getUint16(b.pos,b.pos+=2)}function readUi32(c,b){return b.getUint32(b.pos,b.pos+=4)}function readFixed(c,b){return b.getInt32(b.pos,b.pos+=4)/65536}function readFixed8(c,b){return b.getInt16(b.pos,b.pos+=2)/256}function readFloat(c,b){return b.getFloat32(b.pos,b.pos+=4)}
function readEncodedU32(c,b){var a=c[b.pos++];if(!(a&128))return a;a|=c[b.pos++]<<7;if(!(a&16384))return a;a|=c[b.pos++]<<14;if(!(a&2097152))return a;a|=c[b.pos++]<<21;return!(a&268435456)?a:a|c[b.pos++]<<28}function readSb(c,b,a){return readUb(c,b,a)<<32-a>>32-a}for(var qa=new Uint32Array(33),i=1,ra=0;32>=i;++i)qa[i]=ra=ra<<1|1;function readUb(c,b,a){for(var d=b.bitBuffer,e=b.bitLength;a>e;)d=d<<8|c[b.pos++],e+=8;e-=a;c=d>>>e&qa[a];b.bitBuffer=d;b.bitLength=e;return c}
function readString(c,b,a){var d=[],e=b.pos;if(a)d=slice.call(c,e,e+=a);else{a=0;for(var f;f=c[e++];a++)d[a]=f}b.pos=e;c=a/65536;b="";for(a=0;a<c;++a)e=65536*a,e=d.slice(e,e+65536),b+=fromCharCode.apply(null,e);return decodeURIComponent(escape(b.replace("\x00","","g")))}function readBinary(c,b,a){return c.subarray(b.pos,b.pos=a?b.pos+a:b.end)}this.readSi8=readSi8;this.readUi16=readUi16;this.readUi32=readUi32;var K;
function L(c,b,a,d,e){a||(a={});a.id=readUi16(c,b);d=a.bbox={};M(c,b,d);if(d=a.isMorph=46===e||84===e){var f=a.bboxMorph={};M(c,b,f)}if(f=a.hasStrokes=83===e||84===e){var g=a.strokeBbox={};M(c,b,g);d&&(g=a.strokeBboxMorph={},M(c,b,g));readUb(c,b,5);a.fillWinding=readUb(c,b,1);a.nonScalingStrokes=readUb(c,b,1);a.scalingStrokes=readUb(c,b,1)}if(d){a.offsetMorph=readUi32(c,b);var h=a,j,k,g=N(c,b,h,e,d,f),m=g.f,l=g.e,n=h.records=[];do{var p={},g=O(c,b,p,e,d,l,m,f,k);j=g.eos;l=g.e;m=g.f;k=g.k;n.push(p)}while(!j);
g=P(c,b);l=g.e;m=g.f;h=h.recordsMorph=[];do n={},g=O(c,b,n,e,d,l,m,f,k),j=g.eos,l=g.e,m=g.f,k=g.k,h.push(n);while(!j)}else{l=a;k=N(c,b,l,e,d,f);g=k.e;m=k.f;h=l.records=[];do n={},k=O(c,b,n,e,d,g,m,f,j),l=k.eos,g=k.e,m=k.f,j=k.k,h.push(n);while(!l)}return a}
function Q(c,b,a,d,e){var f,g,h,j,k,m,l,n,p,u,s,r,t;a||(a={});if(4<e){f=26<e?readUi16(c,b):readUi8(c,b);g=a.hasEvents=f>>7&1;h=a.clip=f>>6&1;j=a.hasName=f>>5&1;k=a.hasRatio=f>>4&1;m=a.hasCxform=f>>3&1;l=a.hasMatrix=f>>2&1;n=a.place=f>>1&1;a.move=f&1;70===e?(p=a.hasBackgroundColor=f>>15&1,u=a.hasVisibility=f>>14&1,a.hasImage=f>>12&1,s=a.hasClassName=f>>11&1,r=a.cache=f>>10&1,t=a.blend=f>>9&1,f=a.hasFilters=f>>8&1):(r=a.cache=0,t=a.blend=0,f=a.hasFilters=0);a.depth=readUi16(c,b);s&&(a.className=readString(c,
b,0));n&&(a.symbolId=readUi16(c,b));l&&(l=a.matrix={},R(c,b,l));m&&(m=a.cxform={},S(c,b,m,e));k&&(a.ratio=readUi16(c,b));j&&(a.name=readString(c,b,0));h&&(a.clipDepth=readUi16(c,b));if(f){h=readUi8(c,b);for(e=a.filters=[];h--;)j={},T(c,b,j),e.push(j)}t&&(a.blendMode=readUi8(c,b));r&&(a.bmpCache=readUi8(c,b));if(g){readUi16(c,b);6<=d?readUi32(c,b):readUi16(c,b);g=a.events=[];do r={},t=c,e=b,h=r,m=d,j=f=q,f=6<=m?readUi32(t,e):readUi16(t,e),k=h.eoe=!f,h.onKeyUp=f>>7&1,h.onKeyDown=f>>6&1,h.onMouseUp=
f>>5&1,h.onMouseDown=f>>4&1,h.onMouseMove=f>>3&1,h.onUnload=f>>2&1,h.onEnterFrame=f>>1&1,h.onLoad=f&1,6<=m&&(h.onDragOver=f>>15&1,h.onRollOut=f>>14&1,h.onRollOver=f>>13&1,h.onReleaseOutside=f>>12&1,h.onRelease=f>>11&1,h.onPress=f>>10&1,h.onInitialize=f>>9&1,h.onData=f>>8&1,h.onConstruct=7<=m?f>>18&1:0,j=h.keyPress=f>>17&1,h.onDragOut=f>>16&1),k||(m=h.length=readUi32(t,e),j&&(h.keyCode=readUi8(t,e)),h.actionsData=readBinary(t,e,m-(j?1:0))),t=k,g.push(r);while(!t)}p&&(d=a.backgroundColor={},d.alpha=
readUi8(c,b),d.red=readUi8(c,b),d.green=readUi8(c,b),d.blue=readUi8(c,b));u&&(a.visibility=readUi8(c,b))}else a.place=1,a.symbolId=readUi16(c,b),a.depth=readUi16(c,b),a.hasMatrix=1,u=a.matrix={},R(c,b,u),b.remaining()&&(a.hasCxform=1,u=a.cxform={},S(c,b,u,e));return a}function sa(c,b,a,d,e){a||(a={});5===e&&(a.symbolId=readUi16(c,b));a.depth=readUi16(c,b);return a}
function U(c,b,a,d,e){a||(a={});a.id=readUi16(c,b);21<e?(d=readUi32(c,b),90===e&&(a.deblock=readFixed8(c,b)),d=a.imgData=readBinary(c,b,d),a.alphaData=readBinary(c,b,0)):d=a.imgData=readBinary(c,b,0);switch(d[0]<<8|d[1]){case 65496:case 65497:a.mimeType="image/jpeg";break;case 35152:a.mimeType="image/png";break;case 18249:a.mimeType="image/gif";break;default:a.mimeType="application/octet-stream"}6===e&&(a.incomplete=1);return a}
function ta(c,b,a,d,e){var f,g,h,j;a||(a={});a.id=readUi16(c,b);if(7==e){j=a.characters=[];do{var k={};f=c;var m=b,l=k,n=d,p=e,u=q;g=q;var s=readUi8(f,m);h=l.eob=!s;8<=n?(g=l.blend=s>>5&1,u=l.hasFilters=s>>4&1):(g=l.blend=0,u=l.hasFilters=0);l.stateHitTest=s>>3&1;l.stateDown=s>>2&1;l.stateOver=s>>1&1;l.stateUp=s&1;h||(l.symbolId=readUi16(f,m),l.depth=readUi16(f,m),n=l.matrix={},R(f,m,n),34===p&&(n=l.cxform={},S(f,m,n,p)),u&&(l.filterCount=readUi8(f,m),p=l.filters={},T(f,m,p)),g&&(l.blendMode=readUi8(f,
m)));f=h;j.push(k)}while(!f);a.actionsData=readBinary(c,b,0)}else{f=readUi8(c,b);a.trackAsMenu=f>>7&1;k=readUi16(c,b);m=a.characters=[];do{l={};h=readUi8(c,b);f=l.eob=!h;8<=d?(j=l.blend=h>>5&1,g=l.hasFilters=h>>4&1):(j=l.blend=0,g=l.hasFilters=0);l.stateHitTest=h>>3&1;l.stateDown=h>>2&1;l.stateOver=h>>1&1;l.stateUp=h&1;if(!f){l.symbolId=readUi16(c,b);l.depth=readUi16(c,b);h=l.matrix={};R(c,b,h);34===e&&(h=l.cxform={},S(c,b,h,e));if(g){h=readUi8(c,b);for(g=a.filters=[];h--;)p={},T(c,b,p),g.push(p)}j&&
(l.blendMode=readUi8(c,b))}m.push(l)}while(!f);if(k){d=a.buttonActions=[];do e={},f=c,j=b,k=e,m=readUi16(f,j),l=readUi16(f,j),k.idleToOverDown=l>>7&1,k.outDownToIdle=l>>6&1,k.outDownToOverDown=l>>5&1,k.overDownToOutDown=l>>4&1,k.overDownToOverUp=l>>3&1,k.overUpToOverDown=l>>2&1,k.overUpToIdle=l>>1&1,k.idleToOverUp=l&1,k.mouseEventFlags=l&511,k.keyPress=l>>9&127,k.overDownToIdle=l>>8&1,k.actionsData=m?readBinary(f,j,m-4):readBinary(f,j,0),d.push(e);while(0<b.remaining())}}return a}
function ua(c,b,a,d,e){var f;a||(a={});a.id=readUi16(c,b);var g=a.bbox={};M(c,b,g);g=a.matrix={};R(c,b,g);var g=a.glyphBits=readUi8(c,b),h=a.advanceBits=readUi8(c,b),j=a.records=[];do{var k={};f=c;var m=b,l=k,n=d,p=e,u=g,s=h,r=q;m.align();var t=readUb(f,m,8),ma=l.eot=!t,r=f,z=m,v=l,J=p,F=t,p=v.hasFont=F>>3&1,Ha=v.hasColor=F>>2&1,t=v.hasMoveY=F>>1&1,F=v.hasMoveX=F&1;p&&(v.fontId=readUi16(r,z));Ha&&(33===J?(J=v.color={},V(r,z,J)):(J=v.color={},W(r,z,J)));F&&(v.moveX=readSi16(r,z));t&&(v.moveY=readSi16(r,
z));p&&(v.fontHeight=readUi16(r,z));if(!ma){r=readUi8(f,m);r=6<n?l.glyphCount=r:l.glyphCount=r&127;l=l.entries=[];for(n=r;n--;)r={},z=f,v=m,p=r,t=s,p.glyphIndex=readUb(z,v,u),p.advance=readSb(z,v,t),l.push(r)}f=ma;j.push(k)}while(!f);return a}function va(c,b,a,d,e){a||(a={});59===e&&(a.spriteId=readUi16(c,b));a.actionsData=readBinary(c,b,0);return a}
function wa(c,b,a,d,e){a||(a={});15==e&&(a.soundId=readUi16(c,b));89==e&&(a.soundClassName=readString(c,b,0));d=a.soundInfo={};readUb(c,b,2);d.stop=readUb(c,b,1);d.noMultiple=readUb(c,b,1);e=d.hasEnvelope=readUb(c,b,1);var f=d.hasLoops=readUb(c,b,1),g=d.hasOutPoint=readUb(c,b,1);if(d.hasInPoint=readUb(c,b,1))d.inPoint=readUi32(c,b);g&&(d.outPoint=readUi32(c,b));f&&(d.loopCount=readUi16(c,b));if(e){e=d.envelopeCount=readUi8(c,b);for(d=d.envelopes=[];e--;){var f={},g=c,h=b,j=f;j.pos44=readUi32(g,h);
j.volumeLeft=readUi16(g,h);j.volumeRight=readUi16(g,h);d.push(f)}}return a}function xa(c,b,a){a||(a={});var d=readUi8(c,b);a.playbackRate=d>>2&3;a.playbackSize=d>>1&1;a.playbackType=d&1;var d=readUi8(c,b),e=a.streamCompression=d>>4&15;a.streamRate=d>>2&3;a.streamSize=d>>1&1;a.streamType=d&1;a.samplesCount=readUi32(c,b);2==e&&(a.latencySeek=readSi16(c,b));return a}
function ya(c,b,a,d,e){a||(a={});a.id=readUi16(c,b);d=a.format=readUi8(c,b);a.width=readUi16(c,b);a.height=readUi16(c,b);a.hasAlpha=36===e;3===d&&(a.colorTableSize=readUi8(c,b));a.bmpData=readBinary(c,b,0);return a}
function za(c,b,a,d,e){a||(a={});a.id=readUi16(c,b);var f=a.hasLayout=readUb(c,b,1);5<d?a.shiftJis=readUb(c,b,1):readUb(c,b,1);a.smallText=readUb(c,b,1);a.ansi=readUb(c,b,1);var g=a.wideOffset=readUb(c,b,1),h=a.wide=readUb(c,b,1);a.italic=readUb(c,b,1);a.bold=readUb(c,b,1);5<d?a.language=readUi8(c,b):(readUi8(c,b),a.language=0);d=readUi8(c,b);a.name=readString(c,b,d);75===e&&(a.resolution=20);d=a.glyphCount=readUi16(c,b);if(g){for(var g=a.offsets=[],j=d;j--;)g.push(readUi32(c,b));a.mapOffset=readUi32(c,
b)}else{g=a.offsets=[];for(j=d;j--;)g.push(readUi16(c,b));a.mapOffset=readUi16(c,b)}g=a.glyphs=[];for(j=d;j--;){var k={};Aa(c,b,k,e);g.push(k)}if(h){e=a.codes=[];for(g=d;g--;)e.push(readUi16(c,b))}else{e=a.codes=[];for(g=d;g--;)e.push(readUi8(c,b))}if(f){a.ascent=readUi16(c,b);a.descent=readUi16(c,b);a.leading=readSi16(c,b);f=a.advance=[];for(e=d;e--;)f.push(readSi16(c,b));for(f=a.bbox=[];d--;)e={},M(c,b,e),f.push(e);f=readUi16(c,b);for(d=a.kerning=[];f--;)e={},g=c,j=b,k=e,h?(k.code1=readUi16(g,j),
k.code2=readUi16(g,j)):(k.code1=readUi8(g,j),k.code2=readUi8(g,j)),k.adjustment=readUi16(g,j),d.push(e)}return a}function Ba(c,b,a,d,e){a||(a={});a.flags=82===e?readUi32(c,b):0;a.name=82===e?readString(c,b,0):"";a.data=readBinary(c,b,0);return a}function M(c,b,a){b.align();var d=readUb(c,b,5),e=readSb(c,b,d),f=readSb(c,b,d),g=readSb(c,b,d);c=readSb(c,b,d);a.xMin=e;a.xMax=f;a.yMin=g;a.yMax=c;b.align()}function W(c,b,a){a.red=readUi8(c,b);a.green=readUi8(c,b);a.blue=readUi8(c,b);a.alpha=255}
function V(c,b,a){a.red=readUi8(c,b);a.green=readUi8(c,b);a.blue=readUi8(c,b);a.alpha=readUi8(c,b)}function R(c,b,a){b.align();if(readUb(c,b,1)){var d=readUb(c,b,5);a.a=readSb(c,b,d)/65536;a.d=readSb(c,b,d)/65536}else a.a=1,a.d=1;readUb(c,b,1)?(d=readUb(c,b,5),a.b=readSb(c,b,d)/65536,a.c=readSb(c,b,d)/65536):(a.b=0,a.c=0);var d=readUb(c,b,5),e=readSb(c,b,d);c=readSb(c,b,d);a.tx=e;a.ty=c;b.align()}
function S(c,b,a,d){b.align();var e=readUb(c,b,1),f=readUb(c,b,1),g=readUb(c,b,4);f?(a.redMultiplier=readSb(c,b,g),a.greenMultiplier=readSb(c,b,g),a.blueMultiplier=readSb(c,b,g),a.alphaMultiplier=4<d?readSb(c,b,g):256):(a.redMultiplier=256,a.greenMultiplier=256,a.blueMultiplier=256,a.alphaMultiplier=256);e?(a.redOffset=readSb(c,b,g),a.greenOffset=readSb(c,b,g),a.blueOffset=readSb(c,b,g),a.alphaOffset=4<d?readSb(c,b,g):0):(a.redOffset=0,a.greenOffset=0,a.blueOffset=0,a.alphaOffset=0);b.align()}
function O(c,b,a,d,e,f,g,h,j){var k=a.type=readUb(c,b,1),m=readUb(c,b,5),l=a.eos=!(k||m);if(k)d=j,e=e=e=0,e=a.isStraight=m>>4,d=(m&15)+2,e?(e=a.isGeneral=readUb(c,b,1))?(a.deltaX=readSb(c,b,d),a.deltaY=readSb(c,b,d)):(e=a.isVertical=readUb(c,b,1))?a.deltaY=readSb(c,b,d):a.deltaX=readSb(c,b,d):(a.controlDeltaX=readSb(c,b,d),a.controlDeltaY=readSb(c,b,d),a.anchorDeltaX=readSb(c,b,d),a.anchorDeltaY=readSb(c,b,d)),c=d;else{var n=0,p=0,u=0,s=0,r=0,n=2<d?a.hasNewStyles=m>>4:a.hasNewStyles=0,p=a.hasLineStyle=
m>>3&1,u=a.hasFillStyle1=m>>2&1,s=a.hasFillStyle0=m>>1&1;if(r=a.move=m&1)j=readUb(c,b,5),a.moveX=readSb(c,b,j),a.moveY=readSb(c,b,j);s&&(a.fillStyle0=readUb(c,b,f));u&&(a.fillStyle1=readUb(c,b,f));p&&(a.lineStyle=readUb(c,b,g));n&&(c=N(c,b,a,d,e,h),g=c.f,f=c.e);c=j}return{type:k,flags:m,eos:l,e:f,f:g,k:c}}
function N(c,b,a,d,e,f){var g,h=readUi8(c,b);g=2<d&&255===h?readUi16(c,b):h;for(h=a.fillStyles=[];g--;){var j={};Ca(c,b,j,d,e);h.push(j)}h=readUi8(c,b);h=2<d&&255===h?readUi16(c,b):h;for(a=a.lineStyles=[];h--;){g={};var j=c,k=b,m=g,l=d,n=e,p=f;m.width=readUi16(j,k);n&&(m.widthMorph=readUi16(j,k));if(p){k.align();m.startCapStyle=readUb(j,k,2);var p=m.joinStyle=readUb(j,k,2),u=m.hasFill=readUb(j,k,1);m.noHscale=readUb(j,k,1);m.noVscale=readUb(j,k,1);m.pixelHinting=readUb(j,k,1);readUb(j,k,5);m.noClose=
readUb(j,k,1);m.endCapStyle=readUb(j,k,2);2===p&&(m.miterLimitFactor=readFixed8(j,k));u?(m=m.fillStyle={},Ca(j,k,m,l,n)):(l=m.color={},V(j,k,l),n&&(n=m.colorMorph={},V(j,k,n)))}else 22<l?(l=m.color={},V(j,k,l)):(l=m.color={},W(j,k,l)),n&&(n=m.colorMorph={},V(j,k,n));a.push(g)}c=P(c,b);return{e:c.e,f:c.f}}function P(c,b){b.align();var a=readUb(c,b,4),d=readUb(c,b,4);return{e:a,f:d}}
function Ca(c,b,a,d,e){var f=a.type=readUi8(c,b);switch(f){case 0:22<d||e?(f=a.color={},V(c,b,f)):(f=a.color={},W(c,b,f));e&&(a=a.colorMorph={},V(c,b,a));break;case 16:case 18:case 19:var g=a.matrix={};R(c,b,g);e&&(g=a.matrixMorph={},R(c,b,g));83===d?(a.spreadMode=readUb(c,b,2),a.interpolationMode=readUb(c,b,2)):readUb(c,b,4);for(var h=a.count=readUb(c,b,4),g=a.records=[];h--;){var j={},k=c,m=b,l=j,n=d,p=e;l.ratio=readUi8(k,m);22<n?(n=l.color={},V(k,m,n)):(n=l.color={},W(k,m,n));p&&(l.ratioMorph=
readUi8(k,m),l=l.colorMorph={},V(k,m,l));g.push(j)}19===f&&(a.focalPoint=readFixed8(c,b),e&&(a.focalPointMorph=readFixed8(c,b)));break;case 64:case 65:case 66:case 67:a.bitmapId=readUi16(c,b),d=a.matrix={},R(c,b,d),e&&(e=a.matrixMorph={},R(c,b,e)),a.condition=64===f||67===f}}
function T(c,b,a){var d=a.type=readUi8(c,b);switch(d){case 0:case 2:case 3:case 4:case 7:var e;e=4===d||7===d?readUi8(c,b):1;for(var f=a.colors=[],g=e;g--;){var h={};V(c,b,h);f.push(h)}3===d&&(f=a.higlightColor={},V(c,b,f));if(4===d||7===d)for(f=a.ratios=[];e--;)f.push(readUi8(c,b));a.blurX=readFixed(c,b);a.blurY=readFixed(c,b);2!==d&&(a.angle=readFixed(c,b),a.distance=readFixed(c,b));a.strength=readFixed8(c,b);a.innerShadow=readUb(c,b,1);a.knockout=readUb(c,b,1);a.compositeSource=readUb(c,b,1);3===
d?a.onTop=readUb(c,b,1):readUb(c,b,1);4===d||7===d?a.passes=readUb(c,b,4):readUb(c,b,4);break;case 1:a.blurX=readFixed(c,b);a.blurY=readFixed(c,b);a.passes=readUb(c,b,5);readUb(c,b,3);break;case 5:e=a.columns=readUi8(c,b);f=a.rows=readUi8(c,b);a.divisor=readFloat(c,b);a.bias=readFloat(c,b);d=a.weights=[];for(e*=f;e--;)d.push(readFloat(c,b));d=a.defaultColor={};V(c,b,d);readUb(c,b,6);a.clamp=readUb(c,b,1);a.preserveAlpha=readUb(c,b,1);break;case 6:a=a.matrix=[];for(d=20;d--;)a.push(readFloat(c,b))}}
function Aa(c,b,a,d){var e=P(c,b),f=e.e,e=e.f,g=a.records=[];do{var h={},e=O(c,b,h,d,x,f,e,x,j);a=e.eos;var f=e.e,e=e.f,j=j;g.push(h)}while(!a)}
K={"0":q,1:q,2:L,4:Q,5:sa,6:U,7:ta,8:function(c,b,a){a||(a={});a.id=0;a.imgData=readBinary(c,b,0);a.mimeType="application/octet-stream";return a},9:function(c,b,a){a||(a={});var d=a.color={};W(c,b,d);return a},10:function(c,b,a,d,e){a||(a={});a.id=readUi16(c,b);var f=readUi16(c,b);d=a.glyphCount=f/2;for(var g=[],h=d-1;h--;)g.push(readUi16(c,b));a.offsets=[f].concat(g);for(f=a.glyphs=[];d--;)g={},Aa(c,b,g,e),f.push(g);return a},11:ua,12:va,13:q,14:function(c,b,a){a||(a={});a.id=readUi16(c,b);var d=
readUi8(c,b);a.soundFormat=d>>4&15;a.soundRate=d>>2&3;a.soundSize=d>>1&1;a.soundType=d&1;a.samplesCount=readUi32(c,b);a.soundData=readBinary(c,b,0);return a},15:wa,17:q,18:xa,19:function(c,b,a){a||(a={});a.data=readBinary(c,b,0);return a},20:ya,21:U,22:L,23:q,24:q,26:Q,28:sa,32:L,33:ua,34:ta,35:U,36:ya,37:function(c,b,a){a||(a={});a.id=readUi16(c,b);var d=a.bbox={};M(c,b,d);var e=readUi16(c,b),d=a.hasText=e>>7&1;a.wordWrap=e>>6&1;a.multiline=e>>5&1;a.password=e>>4&1;a.readonly=e>>3&1;var f=a.hasColor=
e>>2&1,g=a.hasMaxLength=e>>1&1,h=a.hasFont=e&1,j=a.hasFontClass=e>>15&1;a.autoSize=e>>14&1;var k=a.hasLayout=e>>13&1;a.noSelect=e>>12&1;a.border=e>>11&1;a.wasStatic=e>>10&1;a.html=e>>9&1;a.useOutlines=e>>8&1;h&&(a.fontId=readUi16(c,b));j&&(a.fontClass=readString(c,b,0));h&&(a.fontHeight=readUi16(c,b));f&&(e=a.color={},V(c,b,e));g&&(a.maxLength=readUi16(c,b));k&&(a.align=readUi8(c,b),a.leftMargin=readUi16(c,b),a.rightMargin=readUi16(c,b),a.indent=readSi16(c,b),a.leading=readSi16(c,b));a.variableName=
readString(c,b,0);d&&(a.initialText=readString(c,b,0));return a},39:q,43:function(c,b,a){a||(a={});a.name=readString(c,b,0);return a},45:xa,46:L,48:za,56:q,57:q,58:q,59:va,60:q,61:q,62:q,64:q,65:q,66:q,69:function(c,b,a){a||(a={});readUb(c,b,1);a.useDirectBlit=readUb(c,b,1);a.useGpu=readUb(c,b,1);a.hasMetadata=readUb(c,b,1);a.doAbc=readUb(c,b,1);a.noCrossDomainCaching=readUb(c,b,1);a.relativeUrls=readUb(c,b,1);a.network=readUb(c,b,1);readUb(c,b,24);return a},70:Q,71:q,72:Ba,73:q,74:q,75:za,76:function(c,
b,a){a||(a={});for(var d=readUi16(c,b),e=a.exports=[];d--;){var f={};f.symbolId=readUi16(c,b);f.className=readString(c,b,0);e.push(f)}return a},77:q,78:function(c,b,a){a||(a={});a.symbolId=readUi16(c,b);var d=a.splitter={};M(c,b,d);return a},82:Ba,83:L,84:L,86:function(c,b,a){a||(a={});for(var d=readEncodedU32(c,b),e=a.scenes=[];d--;){var f={};f.offset=readEncodedU32(c,b);f.name=readString(c,b,0);e.push(f)}d=readEncodedU32(c,b);for(e=a.labels=[];d--;)f={},f.frame=readEncodedU32(c,b),f.name=readString(c,
b,0),e.push(f);return a},87:function(c,b,a){a||(a={});a.id=readUi16(c,b);readUi32(c,b);a.data=readBinary(c,b,0);return a},88:q,89:wa,90:U,91:q};function Da(c,b,a){a||(a={});var d=a.bbox={};b.align();var e=readUb(c,b,5),f=readSb(c,b,e),g=readSb(c,b,e),h=readSb(c,b,e),e=readSb(c,b,e);d.xMin=f;d.xMax=g;d.yMin=h;d.yMax=e;b.align();d=readUi8(c,b);a.frameRate=readUi8(c,b)+d/256;a.frameCount=readUi16(c,b);return a}this.tagHandler=K;this.readHeader=Da;
function Ea(c,b,a,d){var e=c.tags,f=b.bytes,g;try{do{g=b.pos;b.ensure(2);var h=readUi16(f,b),j=h>>6,k=h&63;63===k&&(b.ensure(4),k=readUi32(f,b));b.ensure(k);if(0===j)break;var m=b.substream(b.pos,b.pos+=k),l=m.bytes,k={code:j};if(39===j)k.type="sprite",k.id=readUi16(l,m),k.frameCount=readUi16(l,m),k.tags=[],Ea(k,m,a);else{var n=K[j];n&&n(l,m,k,a,j)}e.push(k);if(1===j){for(;b.pos+2<=b.end&&1===b.getUint16(b.pos,w)>>6;)e.push(k),b.pos+=2;d&&d(c)}else d&&k.id!==q&&d(c)}while(b.pos<b.end)}catch(p){if(p!==
ia)throw p;b.pos=g}}function X(c){this.h=c||16;this.buffer=new Uint8Array(this.h);this.pos=0}X.prototype={push:function(c,b){var a=this.pos+c.length;if(this.h<a){for(var d=this.h;d<a;)d<<=1;a=new Uint8Array(d);0<this.h&&a.set(this.buffer);this.buffer=a;this.h=d}this.buffer.set(c,this.pos);this.pos+=c.length;if(b)return this.pos>=b},get t(){return this.buffer.buffer},get length(){return this.pos}};function Y(c){return new I(c.t,0,c.length)}
function Z(c,b){var a=c.buffer.subarray(b,c.pos);c.buffer=new Uint8Array(c.h);c.buffer.set(a);c.pos=a.length}function Fa(c,b){this.target=c;this.length=b;this.i=w;this.buffer=new X(8096);this.state={bitBuffer:0,bitLength:0,u:{}};this.w={data:new Uint8Array(b),g:0,j:x}}
Fa.prototype={push:function(c,b){var a=this.buffer;if(this.i){if(!a.push(c,2))return;Z(a,2);this.i=x}else a.push(c);var d=Y(a);d.bitBuffer=this.state.bitBuffer;d.bitLength=this.state.bitLength;var e=this.w,f=e.g;try{do ga(d,e,this.state.u);while(d.pos<a.length&&!e.j)}catch(g){if(g!==E)throw g;}finally{this.state.bitBuffer=d.bitBuffer,this.state.bitLength=d.bitLength}Z(a,d.pos);this.target.push(e.data.subarray(f,e.g),b)}};
function Ga(c,b,a){this.z={swfVersion:c,parseTime:0};this.buffer=new X(32768);this.i=w;this.q=0;this.length=b;this.options=a}
Ga.prototype={push:function(c,b){if(0!==c.length){var a=this.z,d=a.swfVersion,e=this.buffer,f=this.options,g;if(this.i){if(!e.push(c,27))return;g=Y(e);var h=g.bytes;Da(h,g,a);if(readUi16(h,g)==(SWF_TAG_CODE_FILE_ATTRIBUTES<<6|4)){g.ensure(4);var h=g.substream(g.pos,g.pos+=4),j={code:SWF_TAG_CODE_FILE_ATTRIBUTES};(0,K[SWF_TAG_CODE_FILE_ATTRIBUTES])(h.bytes,h,j,d,SWF_TAG_CODE_FILE_ATTRIBUTES);a.fileAttributes=j}else g.pos-=2,a.fileAttributes={};if(f.onstart)f.onstart(a);a.tags=[];this.i=x}else e.push(c),
g=Y(e);b&&(a.bytesLoaded=b.bytesLoaded,a.bytesTotal=b.bytesTotal);h=performance.now();Ea(a,g,d,f.onprogress);a.parseTime+=performance.now()-h;d=g.pos;Z(e,d);this.q+=d;if(this.q>=this.length&&f.oncomplete)f.oncomplete(a)}}};
SWF.s=function(c){var b=new X,a={push:function(d,e){if(this.target!==q)return this.target.push(d,e);if(!b.push(d,8))return null;var f=b.buffer.subarray(0,8),g=f[0],h=f[1],j=f[2];if((70===g||67===g)&&87===h&&83===j)g=67===g,f=f[3],h=Y(b),h.pos+=4,h=readUi32(null,h)-8,f=new Ga(f,h,c),g&&(f=new Fa(f,h)),f.push(b.buffer.subarray(8,b.pos),e),a.target=f;else{var f=x,k;255===g&&216===h&&255===j?(f=w,k="image/jpeg"):137===g&&(80===h&&78===j)&&(f=w,k="image/png");if(f){var m=k,l=new Uint8Array(e.bytesTotal);
l.set(d);var n=d.length;a.target={push:function(a){l.set(a,n);n+=a.length},close:function(){var a={},b;b="image/jpeg"==m?parseJpegChunks(a,l):[l];a={type:"image",props:a,data:new Blob(b,{type:m})};c.oncomplete&&c.oncomplete(a)}}}}b=null},close:function(){if(b){var a={A:"empty",data:b.buffer.subarray(0,b.pos)};c.oncomplete&&c.oncomplete(a)}this.target!==q&&this.target.close&&this.target.close()}};return a};
SWF.parse=function(c,b){b||(b={});var a=SWF.s(b),d=new Uint8Array(c);a.push(d,{bytesLoaded:d.length,bytesTotal:d.length})};this.SWF.parse=SWF.parse;this.SWF.parseAsync=SWF.s;
